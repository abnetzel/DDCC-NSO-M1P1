/*! For license information please see memory-index.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{248:function(e,t,a){"use strict";a.r(t);var r,n,c,o,i,s,d,l=a(251),p=a.n(l),h=a(268),u=a.n(h),f=a(259),m={},b=a(31),y=a(32),g=a(254),_=a(252),v=a(253),w=a(255),k=a(275),I={},C=function(e){return Object(k.b)(I,e)},A=a(279),O=a(256),x=a(266),D=a(260),j=a(257),P=a.n(j),S=a(274),E=a.n(S),T=a(267),N=a.n(T),R=a(261),V=a(265),U=a(291),M=a(258),F=a(66),X=a(415),B=a.n(X),G=(r=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return a=Object(g.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(n))),Object(w.a)(Object(O.a)(a),"state",{animationInProgress:!1,transitionInProgress:!1}),a}return Object(v.a)(t,e),Object(y.a)(t,[{key:"onTransitionEnd",value:function(){var e=this.props.cardAnimationEnd;e&&e()}},{key:"componentDidUpdate",value:function(){this.state.animationInProgress&&!this.rendered&&this.setState({transitionInProgress:!0})}},{key:"componentWillReceiveProps",value:function(e){this.props.backface===e.backface||e.noAnimation||this.setState({animationInProgress:!0,transitionInProgress:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.el,r=t.index,n=t.isCorrect,c=t.cardsCount,o=t.activityId,i=t.backface,s=t.showAnswers,d=t.backfaceImage,l=t.handleClick,h=t.complete,u=t.highlightRed,f=t.noAnimation,m=t.selected,b=t.selectedIndex,y=t.fillImage,g=t.containerStyle,_=t.pairDesc,v=t.secondIndex,w=this.state,k=w.animationInProgress,I=w.transitionInProgress,C=_&&_.text?_.text.replace(/(<([^>]+)>)/gi,""):"",A=_?_.imageAlt:"",O={onClick:F.d?null:function(){e.setState({animationInProgress:!0,transitionInProgress:!1}),l(r)},onTouchEnd:F.d?function(){e.setState({animationInProgress:!0,transitionInProgress:!1}),l(r)}:null,onKeyDown:function(e){e.keyCode===M.a.SPACEBAR&&e.preventDefault()},onKeyUp:F.d?null:function(t){t.keyCode===M.a.SPACEBAR&&(t.preventDefault(),e.setState({animationInProgress:!0,transitionInProgress:!1}),l(r))}};return p.a.createElement("div",{className:g||""},p.a.createElement("div",{id:"pairs".concat(o,"-card").concat(r,"__desc"),className:V.a.VISUALLY_HIDDEN},"\n          Card ".concat(r+1," of ").concat(c,"\n          ").concat(i?"Face down":"Face up","\n          ").concat(!_||i||h?"":"Selected with ".concat(C," ").concat(A),"\n          ").concat(h?"Use Tab or Swipe to navigate between the cards.":b>-1?v>-1?v===r||b===r?"Use Tab or Swipe to choose another face down card for turning down this pair cards.":"Use Tab or Swipe to navigate between the cards.":b===r?"Use Tab or Swipe to choose a second card to pair with this card.":"Use Tab or Swipe to navigate between the cards.":"Use Tab or Swipe to navigate between the cards.","\n          ").concat(h?s||n?i?"Use Spacebar or Double Tap to turn face up this card and its second card and get feedback about the second card.":"Use Spacebar or Double Tap to turn face down the current first card in pair and review its second card at the same time.":"":b===r||v===r?"Use Spacebar or Double Tap to confirm your choice.":i?"Use Spacebar or Double Tap to turn face up the card and select it.":"Use Spacebar or Double Tap to turn face down the card and deselect it.","\n        ")),p.a.createElement("div",Object.assign({"aria-describedby":"pairs".concat(o,"-card").concat(r,"__desc")},O,{className:P()(B.a.rotateCardContainer,B.a.sortableCard,i?B.a.rotated:"",k?B.a.animation:"",I?B.a.transition:""),ref:"container",style:f?{transition:"none"}:null,tabIndex:-1,onTransitionEnd:function(){return e.setState({animationInProgress:!1,transitionInProgress:!1})}}),i?d?p.a.createElement("img",{"aria-describedby":"pairs".concat(o,"-card").concat(r,"__desc"),ref:"backfaceRef",tabIndex:i&&(h&&(n||s)||!h)?0:-1,style:{objectFit:y?"cover":"contain"},className:P()(B.a.backfaceImage,m?B.a.selectedCard:""),"aria-hidden":"true",alt:"",src:d}):p.a.createElement("div",{"aria-describedby":"pairs".concat(o,"-card").concat(r,"__desc"),ref:"backfaceRef",tabIndex:i&&(h&&(n||s)||!h)?0:-1,className:P()(B.a.questionMark,m?B.a.selectedCard:"")}):p.a.createElement(U.a,{ariaDescribedby:"pairs".concat(o,"-card").concat(r,"__desc"),key:"card".concat(r),text:a.text,image:a.image?a.image.url:"",imageWidth:a.image?a.image.width:0,imageHeight:a.image?a.image.height:0,alt:a.imageAlt,tabIndex:i||!h&&n?-1:0,className:P()(B.a.frontBack,m?B.a.selectedCard:""),style:{width:"106px",height:"156px"}}),u&&p.a.createElement("div",{className:B.a.red})))}}]),t}(p.a.PureComponent),Object(x.a)(r.prototype,"onTransitionEnd",[N.a],Object.getOwnPropertyDescriptor(r.prototype,"onTransitionEnd"),r.prototype),r),H=a(264),W=a(263),Y=(n=function(e){function t(e){var a;return Object(b.a)(this,t),a=Object(g.a)(this,Object(_.a)(t).call(this,e)),Object(w.a)(Object(O.a)(a),"MAX_PAGE_CARDS",4),Object(w.a)(Object(O.a)(a),"cards",[]),a.state={currentPage:0,backface:e.cardsArray.map((function(e){return!0})),noAnimation:!1},a}return Object(v.a)(t,e),Object(y.a)(t,[{key:"backfaceAll",value:function(){var e=this.props.cardsArray;this.setState({backface:e.map((function(e){return!1}))})}},{key:"resetBackface",value:function(){var e=this.props.cardsArray;this.setState({backface:e.map((function(e){return!0}))})}},{key:"rotateOnlyHandleClick",value:function(e){var t=this.state.backface,a=this.props,r=a.handleClick,n=a.correctCardsIndexes,c=a.complete,o=a.showAnswers,i=a.items,s=a.cardsArray,d=a.highlightPair;if(!c||o||-1!==n.indexOf(e)){if(c){var l=i.find((function(t){return t.first===s[e]}));l=l?l.second:i.find((function(t){return t.second===s[e]})).first;var p=s.indexOf(l);d(e,p,t[e])}if(n.indexOf(e)>-1){var h=this.props,u=h.cardsArray;if(!h.complete)return;var f=i.find((function(t){return t.first===u[e]}));f=f?f.second:i.find((function(t){return t.second===u[e]})).first;var m=u.indexOf(f);t[e]=!t[e],t[m]=!t[m],this.setState({backface:t,noAnimation:!1})}else{var b=this.props,y=b.selectedIndex,g=b.secondIndex;if(g>-1)e===y?t[g]=!t[g]:e===g?t[y]=!t[y]:(-1===n.indexOf(y)&&(t[y]=!t[y],t[g]=!t[g]),t[e]=!t[e]);else{if(e===y)return;t[e]=!t[e]}r&&r(e),this.setState({backface:t,noAnimation:!1})}}}},{key:"changePage",value:function(e){var t=this.props.cardsArray,a=Math.floor((t.length-1)/this.MAX_PAGE_CARDS)+1,r=this.state.currentPage;r+e>=a||r+e<0||this.setState({currentPage:r+e,noAnimation:!0})}},{key:"renderItems",value:function(e){var t=this,a=this.props,r=a.cardsArray,n=a.selectedIndex,c=a.correctCardsIndexes,o=a.activityId,i=a.backfaceImage,s=a.complete,d=a.correct,l=a.secondIndex,h=a.removeHighlight,u=a.highlightPair,f=a.fillImage,m=this.state,b=m.currentPage,y=m.backface,g=m.noAnimation,_=r;if(e>=0){var v=e*this.MAX_PAGE_CARDS+this.MAX_PAGE_CARDS>r.length?r.length:e*this.MAX_PAGE_CARDS+this.MAX_PAGE_CARDS;_=r.slice(e*this.MAX_PAGE_CARDS,v)}var w=null;return F.d||(4===r.length||8===r.length?w=B.a.fourInArow:6===r.length?w=B.a.threeInArow:2===r.length&&(w=B.a.twoInArow)),_.map((function(e,a){var m=t.MAX_PAGE_CARDS*b+a,_={highlightRed:null!==d&&!d&&(m===n||m===l),backfaceImage:i,highlightPair:u,selected:n===m||l===m,selectedIndex:n,secondIndex:l,index:m,cardsCount:r.length,isCorrect:c.indexOf(m)>-1,activityId:o,handleClick:t.rotateOnlyHandleClick,key:"card".concat(a),noAnimation:g,complete:s,fillImage:f,pairDesc:null!=d?m===n?r[l]:m===l?r[n]:null:null,containerStyle:w,el:e};return p.a.createElement(G,Object.assign({},_,{backface:y[m],onBlur:h,ref:function(e){-1===t.cards.indexOf(e)&&e&&t.cards.push(e)}}))}))}},{key:"render",value:function(){for(var e=this,t=this.props.cardsArray,a=this.state.currentPage,r=[],n=0;n<Math.floor((t.length-1)/this.MAX_PAGE_CARDS)+1;n++)r.push(p.a.createElement("div",{key:"dot".concat(n),className:P()(B.a.dot,n===a?B.a.selectedDot:void 0)}));return p.a.createElement("div",{className:P()(B.a.viewContainer,F.d&&!Object(F.h)()?B.a.even:B.a.fixedAndCentered)},F.d&&!Object(F.h)()?p.a.createElement(p.a.Fragment,null,this.renderItems(a),t.length>this.MAX_PAGE_CARDS&&p.a.createElement("div",{className:B.a.buttonContainer},p.a.createElement(H.b,{disabled:0===a,onClick:function(){return e.changePage(-1)},id:W.a.PREV,className:P()(H.a.prev,B.a.buttonPrev)}),p.a.createElement("div",{className:B.a.dotContainer},r),p.a.createElement(H.b,{disabled:a===Math.floor((t.length-1)/this.MAX_PAGE_CARDS),onClick:function(){return e.changePage(1)},id:W.a.NEXT,className:P()(H.a.next,B.a.buttonNext)}))):this.renderItems())}}]),t}(p.a.Component),Object(x.a)(n.prototype,"backfaceAll",[N.a],Object.getOwnPropertyDescriptor(n.prototype,"backfaceAll"),n.prototype),Object(x.a)(n.prototype,"resetBackface",[N.a],Object.getOwnPropertyDescriptor(n.prototype,"resetBackface"),n.prototype),Object(x.a)(n.prototype,"rotateOnlyHandleClick",[N.a],Object.getOwnPropertyDescriptor(n.prototype,"rotateOnlyHandleClick"),n.prototype),Object(x.a)(n.prototype,"changePage",[N.a],Object.getOwnPropertyDescriptor(n.prototype,"changePage"),n.prototype),n),q=a(269),K=a(271),L=a(514),J=a.n(L),Z=a(273),Q=function(e){function t(){return Object(b.a)(this,t),Object(g.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showRestart,a=e.complete;return p.a.createElement("div",{className:J.a.container},p.a.createElement("div",{className:J.a.navigation},!F.d&&p.a.createElement(Z.a,{excludeItems:t?null:{restart:!0}})),p.a.createElement("div",{className:J.a.buttons},p.a.createElement(H.b,{id:W.a.COMPLETE_ACTIVITY,disabled:a,className:H.a["complete-activity"],onFocus:this.props.onButtonFocus,onClick:this.props.completeActivity,hint:!0,tabIndex:a?-1:0}),this.props.showRestart&&p.a.createElement(H.b,{id:W.a.RESTART,className:H.a.restart,onFocus:this.props.onButtonFocus,onClick:this.props.restart,hint:!0})))}}]),t}(l.PureComponent),z=a(282),$=a(515),ee=a.n($),te=Object(f.b)((function(e){return Object(D.a)({},e,{activityId:e.id,activityType:e.type,activityName:e.name,finalResponse:"Completed!"})}),C)(c=Object(R.a)("Activity")((o=function(e){function t(){var e,a;Object(b.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return a=Object(g.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(n))),Object(w.a)(Object(O.a)(a),"allItems",a.props.items.map((function(e){return e.first})).concat(a.props.items.map((function(e){return e.second})))),Object(w.a)(Object(O.a)(a),"state",{ariaText:"",cardsArray:E()(a.allItems),correctCardsIndexes:[],selectedIndex:-1,secondIndex:-1,correct:null,feedback:"",complete:!1}),Object(w.a)(Object(O.a)(a),"onActivityKeyDown",(function(e){switch(e.keyCode){case M.a.S:e.altKey&&a.completeActivity();break;case M.a.R:e.altKey&&a.restart()}})),a}return Object(v.a)(t,e),Object(y.a)(t,[{key:"restart",value:function(){this.refs.viewRef.resetBackface(),this.setState({ariaText:"",cardsArray:E()(this.allItems),correctCardsIndexes:[],selectedIndex:-1,secondIndex:-1,correct:null,feedback:"",complete:!1})}},{key:"completeActivity",value:function(){if(!this.state.complete){var e=this.props,t=e.showAnswers,a=e.finalResponse,r=this.state.correctCardsIndexes;this.refs.viewRef.backfaceAll(),this.setState({feedback:a,ariaText:t?"Completed! All cards are turned face up.\n          Now you can review all correct card matches.\n          Use Tab or Swipe to navigate between the cards.\n          Use Spacebar or Double Tap to turn face down the first card in pair.\n          At the same time, the second card will turn over too,\n          and you will get feedback about the second card.\n          Use Spacebar or Double Tap to turn face up this pair of cards again.":"Completed! All cards are turned face up.\n          You can review all cards. Use Tab or Swipe\n          to navigate between the cards.",correctCardsIndexes:t?this.allItems.map((function(e,t){return t})):r,complete:!0,selectedIndex:-1,secondIndex:-1})}}},{key:"highlightPair",value:function(e,t,a){var r=this.state,n=r.complete,c=r.cardsArray;if(n){var o=c[t],i=o.text?o.text.replace(/(<([^>]+)>)/gi,""):"",s=o.imageAlt;this.setState({selectedIndex:t,secondIndex:e,ariaText:a?"The pair of cards have turned face up.\n          The second card is ".concat(i," ").concat(s,".\n          ").concat(t+1," of ").concat(this.allItems.length,"."):"The first card in the pair and its second card\n          turned face down. The second card is card ".concat(t+1," of ").concat(this.allItems.length,".\n          Use Spacebar or Double Tap to turn face up this pair of cards again and get feedback about the second card. ")})}}},{key:"handleClick",value:function(e){var t=this.props,a=t.items,r=t.correctFeedback,n=t.incorrectFeedback,c=/(<([^>]+)>)/gi,o=this.state,i=o.selectedIndex,s=o.secondIndex;if(-1===s&&-1!==i){if(e===i)return void this.setState({selectedIndex:-1});var d=this.state,l=d.correctCardsIndexes,p=d.cardsArray,h=p[e],u=h.text?h.text.replace(c,""):"",f=h.imageAlt,m=this.props.playFeedbackSounds,b="",y="",g=!1;if(a.find((function(t){return t.first===p[i]&&t.second===p[e]||t.first===p[e]&&t.second===p[i]}))){var _=this.props.finalResponse;l.push(i),l.push(e),b=l.length===this.allItems.length?"Completed! Congratulations, you found all pairs of cards!\n          All cards are turned face up. You can review all cards.\n          Use Tab or Swipe to navigate between the cards.":"".concat(u," ").concat(f,". ").concat(e+1," of ").concat(this.allItems.length,". Face up.\n          Correct! Great. The found pair of cards remained face up.\n          Find the next pair of cards."),y=l.length===this.allItems.length?_:r,g=!0,m&&z.a.playCorrect()}else b="".concat(u," ").concat(f,". ").concat(e+1," of ").concat(this.allItems.length,". Face up.\n          Incorrect! Try again. Selected pair of cards will not turn\n          face down until you click on another face down card.\n          Use Tab or Swipe to choose another face down card.\n          Use Spacebar or Double Tap to confirm your choice."),y=n,g=!1,m&&z.a.playWrong();this.setState({correctCardsIndexes:l,ariaText:b,correct:g,feedback:y,secondIndex:e,complete:l.length===this.allItems.length,selectedIndex:l.length===this.allItems.length?-1:i})}else{var v=this.state,w=v.cardsArray,k=v.correct,I=w[e],C=I.text?I.text.replace(c,""):"",A=I.imageAlt;this.setState({ariaText:"".concat(C," ").concat(A," ").concat(e+1," of ").concat(this.allItems.length,".\n          Face up. ").concat(-1===s||k?"":"Selected pair of cards has turned face down.","\n          Use Tab or Swipe to choose a second card to pair\n          with this card. Use Spacebar or Double Tap\n          to confirm your choice. "),feedback:"",correct:null,selectedIndex:e,secondIndex:-1})}}},{key:"render",value:function(){var e=this.props,t=e.studentInstruction,a=e.items,r=e.activityName,n=e.backfaceImage,c=e.activityId,o=e.title,i=e.showRestart,s=e.showAnswers,d=e.fillImage,l=this.state,h=l.ariaText,u=l.cardsArray,f=l.correctCardsIndexes,m=l.correct,b=l.feedback,y=l.complete,g=l.selectedIndex,_=l.secondIndex;return p.a.createElement("section",{role:"application",tabIndex:"0",className:ee.a.container,onKeyDown:this.onActivityKeyDown},p.a.createElement(q.a,{ariaText:h}),p.a.createElement(K.a,{activityName:r,studentInstruction:t}),p.a.createElement("div",{className:ee.a.player},p.a.createElement(Q,{completeActivity:this.completeActivity,restart:this.restart,complete:y,showRestart:i,onButtonFocus:function(){}}),p.a.createElement("div",{className:ee.a.title},o),p.a.createElement(Y,{fillImage:d,ref:"viewRef",items:a,handleClick:this.handleClick,activityId:c,backfaceImage:n,correctCardsIndexes:f,cardsArray:u,selectedIndex:g,secondIndex:_,complete:y,correct:m,showAnswers:s,highlightPair:this.highlightPair}),p.a.createElement("div",{className:P()(ee.a.feedbackContainer,y?"":m?ee.a.correct:ee.a.incorrect)},(null!==m||y)&&b)))}}]),t}(l.PureComponent),Object(x.a)(o.prototype,"restart",[N.a],Object.getOwnPropertyDescriptor(o.prototype,"restart"),o.prototype),Object(x.a)(o.prototype,"completeActivity",[N.a],Object.getOwnPropertyDescriptor(o.prototype,"completeActivity"),o.prototype),Object(x.a)(o.prototype,"highlightPair",[N.a],Object.getOwnPropertyDescriptor(o.prototype,"highlightPair"),o.prototype),Object(x.a)(o.prototype,"handleClick",[N.a],Object.getOwnPropertyDescriptor(o.prototype,"handleClick"),o.prototype),c=o))||c)||c,ae=Object(f.b)((function(e){return{displayMode:e.displayMode,displaySetting:e.displaySetting,displayIconImage:e.displayIconImage,activityName:e.name,activityType:e.type}}),C)((d=s=function(e){function t(){return Object(b.a)(this,t),Object(g.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(y.a)(t,[{key:"activity",get:function(){return p.a.createElement(te,{activityAlign:this.activityAlign})}}]),t}(A.a),Object(w.a)(s,"propTypes",A.a.propTypes),i=d))||i,re=a(280),ne=a(277);a.d(t,"bootstrap",(function(){return ce}));var ce=function(e,t,a){var r,n=re.a.createStore((r=t,Object(D.a)({},r)),m);u.a.render(p.a.createElement(f.a,{store:n},p.a.createElement(ne.a.Provider,{value:a.memory},p.a.createElement(ae,null))),e)}},415:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",sortableCard:"DesktopView_sortableCard__1xYj4",backfaceImage:"DesktopView_backfaceImage__3We8Z",questionMark:"DesktopView_questionMark__2W9J7",reversedCard:"DesktopView_reversedCard__3xaqn",backface:"DesktopView_backface__3NNLw",correctCard:"DesktopView_correctCard__3aTXf",emptyCard:"DesktopView_emptyCard__1Eoww",flippedCorrectCard:"DesktopView_flippedCorrectCard__36WHQ",selectedCard:"DesktopView_selectedCard__gfjH4",flippingCard:"DesktopView_flippingCard__3wD3Q",straight:"DesktopView_straight__3b_7c",flipped:"DesktopView_flipped__2J8SV",viewContainer:"DesktopView_viewContainer__1NbIU",fixedAndCentered:"DesktopView_fixedAndCentered__2nRsY",even:"DesktopView_even__2krOj",buttonContainer:"DesktopView_buttonContainer__1LwwV",dotContainer:"DesktopView_dotContainer__hUYLG",dot:"DesktopView_dot__1eBHj",selectedDot:"DesktopView_selectedDot__3beU-",frontBack:"DesktopView_frontBack__eOSuh",animation:"DesktopView_animation__1U961",transition:"DesktopView_transition__1VZIo",rotateCardContainer:"DesktopView_rotateCardContainer__1DXPY",red:"DesktopView_red__1hs5q",fourInArow:"DesktopView_fourInArow__1hzLN",threeInArow:"DesktopView_threeInArow__17uHg",twoInArow:"DesktopView_twoInArow__1sBqO"}},514:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Controls_container__1Fwcm",navigation:"Controls_navigation__1xMvk",score:"Controls_score__cXeoM",buttons:"Controls_buttons__tjWfq"}},515:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Activity_container__5PXFU",player:"Activity_player__nJvxp",title:"Activity_title__1Zj4D",feedbackContainer:"Activity_feedbackContainer__2pmju",correct:"Activity_correct__2EH7D",incorrect:"Activity_incorrect__3pmRs"}}}]);
//# sourceMappingURL=memory-index.js.map