/*! For license information please see crossword-index.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{235:function(e,t,r){"use strict";r.r(t);var n=r(31),o=r(32),i=r(254),a=r(252),c=r(253),l=r(251),s=r.n(l),d=r(335),u=r.n(d),p=r(258),f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(i.a)(this,Object(a.a)(t).call(this))).words=[],e}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focusWord",value:function(e){this.words[e].focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.title,n=t.list,o=t.onFocus,i=t.onBlur,a=t.onKeyUp,c=t.completeWords,l=t.isPreview,d=t.complete;return s.a.createElement("div",{className:u.a.wordList},s.a.createElement("span",{className:u.a.title},r),s.a.createElement("ul",null,n.map((function(t,n){return s.a.createElement("li",{ref:function(t){t&&-1===e.words.indexOf(t)&&e.words.push(t)},key:"li".concat(n),onKeyUp:function(e){e.preventDefault(),a(t.itemsWordIndex,e)},onKeyDown:function(e){[p.a.DOWN,p.a.UP,p.a.RIGHT,p.a.LEFT,p.a.BACKSPACE,p.a.DELETE,p.a.SPACEBAR].indexOf(e.keyCode)>-1&&e.preventDefault()},onBlur:function(){i()},onFocus:function(e){return o(e,t.itemsWordIndex,r)},tabIndex:c.indexOf(t.itemsWordIndex)>-1&&!d?-1:0,className:c.indexOf(t.itemsWordIndex)>-1&&!l?u.a.correct:""},s.a.createElement("p",{key:"p".concat(n)},s.a.createElement("span",{key:"span".concat(n)},"".concat(t.number,"."))," ".concat(t.clue)))}))))}}]),t}(s.a.Component),m=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"focusWord",value:function(e,t){"across"===e?this.refs.across.focusWord(t):"down"===e&&this.refs.down.focusWord(t)}},{key:"render",value:function(){var e=this.props,t=e.downList,r=e.acrossList,n=e.onFocus,o=e.onBlur,i=e.onWordKeyUp,a=e.completeWords,c=e.isPreview,l=e.complete;return s.a.createElement("div",{className:u.a.wordListContainer},s.a.createElement(f,{ref:"across",isPreview:c,completeWords:a,onKeyUp:i,onBlur:o,onFocus:n,list:r,title:"Across",complete:l}),s.a.createElement(f,{ref:"down",isPreview:c,completeWords:a,onKeyUp:i,onBlur:o,onFocus:n,list:t,title:"Down",complete:l}))}}]),t}(s.a.Component);t.default=m},243:function(e,t,r){"use strict";r.r(t);var n,o,i,a,c,l,s=r(251),d=r.n(s),u=r(268),p=r.n(u),f=r(259),m={},h=r(31),w=r(32),b=r(254),y=r(252),O=r(253),I=r(255),_=r(275),v={},x=function(e){return Object(_.b)(v,e)},N=r(279),C=r(256),g=r(266),E=r(260),j=r(478),A=r.n(j),T=r(479),F=r.n(T),L=r(480),W=r.n(L),D=r(261),k=Object(D.a)("Score")(n=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o))),Object(I.a)(Object(C.a)(r),"displayedScore",0),Object(I.a)(Object(C.a)(r),"ariaText",""),r}return Object(O.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.totalScore,r=e.autoCheck,n=e.complete;return t&&(r||n)?d.a.createElement("div",{className:W.a.container},d.a.createElement("span",{className:W.a.current},this.props.displayedScore),"\xa0 / \xa0",d.a.createElement("span",{className:W.a.total},t)):null}}]),t}(s.PureComponent))||n,S=r(273),P=r(66),R=r(264),U=r(263),B=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.complete,r=e.showRestart,n=e.autoCheck;return d.a.createElement("div",{className:F.a.container},d.a.createElement("div",{className:F.a.navigation},!P.d&&d.a.createElement(S.a,{excludeItems:r?null:{restart:!0}})),d.a.createElement("div",{className:F.a.score},d.a.createElement(k,{complete:t,displayedScore:this.props.displayedScore,totalScore:this.props.totalScore,autoCheck:n})),d.a.createElement("div",{className:F.a.buttons},d.a.createElement(R.b,{id:U.a.COMPLETE_ACTIVITY,disabled:this.props.complete,className:R.a["complete-activity"],onFocus:this.props.onButtonFocus,onClick:this.props.completeActivity,hint:!0}),this.props.showRestart&&d.a.createElement(R.b,{id:U.a.RESTART,className:R.a.restart,onFocus:this.props.onButtonFocus,onClick:this.props.restart,hint:!0})),d.a.createElement("div",{className:F.a.outline}))}}]),t}(s.PureComponent),M=r(282),H=r(319),G=r(235),z=r(257),X=r.n(z),K=r(481),Z=r.n(K),Y=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(y.a)(t).call(this))).inputRefs=[],e}return Object(O.a)(t,e),Object(w.a)(t,[{key:"focusInput",value:function(e){(0,this.props.onFocus)(e)}},{key:"drawCols",value:function(e){for(var t=this,r=[],n=this.props,o=n.colCount,i=n.filledArray,a=n.currentItemIndex,c=n.currentWordLetter,l=n.completeWords,s=n.inputSize,u=n.isPreview,p=function(n){var o=i.find((function(t){return t.top===e&&t.left===n})),p=o?{height:"".concat(parseFloat(s)-2,"px"),width:"".concat(parseFloat(s)-2,"px")}:{height:"".concat(parseFloat(s)-2,"px"),paddingLeft:"".concat(parseFloat(s)-2,"px")},f=o?c>-1&&(c===o.letterNumber&&o.wordIndex===a||o.letterNumber.find&&!!o.letterNumber.find((function(e){return e.word===a&&e.letter===c}))):null;r.push(d.a.createElement("div",{style:p,key:"divCol".concat(n),className:X()(Z.a.emptyCell,f?Z.a.selectedCell:"",o?Z.a.nonEmpty:"")},o&&d.a.createElement(d.a.Fragment,null,d.a.createElement("input",{style:{height:"".concat(parseFloat(s)-2,"px"),width:"".concat(parseFloat(s)-2,"px"),fontSize:"".concat(.8*parseFloat(s),"px")},key:"input".concat(n),ref:function(e){e&&-1===t.inputRefs.indexOf(e)&&t.inputRefs.push(e)},onFocus:function(){return t.focusInput(o)},onChange:function(r){return t.props.onChange(e,n,r)},tabIndex:-1,value:o?o.letter:"",type:"text",maxLength:1,className:X()(Z.a.input,o.wordIndex===a||o.wordIndex.indexOf&&o.wordIndex.indexOf(a)>-1?Z.a.highlighted:"",f?Z.a.selected:"",(l.indexOf(o.wordIndex)>-1||o.wordIndex.find&&o.wordIndex.filter((function(e){return l.indexOf(e)>-1})).length>0)&&!u?Z.a.correct:"")}),null!==o.number&&d.a.createElement("label",{style:{fontSize:"".concat(.8*parseFloat(s)*.4,"px")},key:"label".concat(n),"data-content":o.number?o.number:"",className:o.number?Z.a.numbered:""}))))},f=0;f<o;f++)p(f);return r}},{key:"drawRows",value:function(){for(var e=this,t=[],r=this.props,n=r.rowCount,o=r.colCount,i=r.inputSize,a=r.currentWordLetter,c=r.filledArray,l=r.currentItemIndex,s=r.maxPixel,u=this.refs.tableContainer&&o*i<s?"center":"unset",p=function(r){var n=a>-1&&!!c.filter((function(e){return e.top===r})).find((function(e){return a===e.letterNumber&&e.wordIndex===l||e.letterNumber.find&&!!e.letterNumber.find((function(e){return e.word===l&&e.letter===a}))}));t.push(d.a.createElement("div",{style:{justifyContent:u},className:X()(Z.a.row,n?Z.a.selectedRow:""),key:"divRow".concat(r)},e.drawCols(r)))},f=0;f<n;f++)p(f);return t}},{key:"render",value:function(){var e=this.props,t=e.currentClue,r=e.currentNumber,n=e.isPreview,o=e.rowCount,i=e.inputSize,a=e.maxPixel,c=e.colCount,l=e.complete,s=this.refs.tableContainer&&o*i<a?"center":"unset",u=!isNaN(i)&&(o*i>a||c*i>a);return d.a.createElement("div",{className:X()(Z.a.fieldContainer,n?Z.a.blackout:"")},!n&&d.a.createElement("div",{className:Z.a.fieldTitle},l?d.a.createElement("span",{className:Z.a.number},"Completed!"):d.a.createElement(d.a.Fragment,null,d.a.createElement("span",{className:Z.a.number},r),t)),d.a.createElement("div",{ref:"tableContainer",tabIndex:u?0:-1,"aria-label":u?"Crossword":"",className:Z.a.tableContainer,style:{justifyContent:s}},this.drawRows()),P.d&&d.a.createElement("div",{className:X()(Z.a.fieldTitle,Z.a.fieldTitleMobile)},d.a.createElement("span",{className:Z.a.number},r),t,d.a.createElement("div",{className:Z.a.buttons},d.a.createElement(R.b,{disabled:!1,onClick:function(){},id:U.a.PREV,className:R.a.prev}),d.a.createElement(R.b,{disabled:!1,onClick:function(){},id:U.a.NEXT,className:R.a.next}))))}}]),t}(d.a.Component),V=r(482),J=r.n(V),q=r(267),Q=r.n(q),$=r(258),ee=(o=function(e){function t(e){var r;Object(h.a)(this,t),r=Object(b.a)(this,Object(y.a)(t).call(this,e)),Object(I.a)(Object(C.a)(r),"MAX_HEIGHT_PIXEL",560);var n=r.props.items,o=[];r.rowCount=n.filter((function(e){return"down"===e.direction})).length>0?Math.max.apply(Math,Object(H.a)(n.filter((function(e){return"down"===e.direction})).map((function(e){return e.top+e.word.length})))):1,r.colCount=n.filter((function(e){return"across"===e.direction})).length>0?Math.max.apply(Math,Object(H.a)(n.filter((function(e){return"across"===e.direction})).map((function(e){return e.left+e.word.length})))):1;for(var i=function(t){var r={};r="across"===n[t].direction?{top:0,left:1}:{top:1,left:0};for(var i=function(i){var a=o.find((function(e){return e.top===n[t].top+i*r.top&&e.left===n[t].left+i*r.left}));a?o[o.indexOf(a)]=Object(E.a)({},a,{number:0===i||1===a.number?1:null,wordIndex:[a.wordIndex,t],letterNumber:[{word:a.wordIndex,letter:a.letterNumber},{word:t,letter:i}]}):o.push({top:n[t].top+i*r.top,left:n[t].left+i*r.left,letter:e.isPreview?n[t].word[i]:"",number:0===i?1:null,letterNumber:i,wordIndex:t})},a=0;a<n[t].word.length;a++)i(a)},a=0;a<n.length;a++)i(a);for(var c=1,l=0;l<o.length;l++)null!==o[l].number&&(o[l].number=c++);return r.state={currentDirection:null,inputSize:r.MAX_PIXEL/(r.rowCount>r.colCount?r.rowCount:r.colCount),currentWord:[],topStart:-1,leftStart:-1,currentItemIndex:-1,currentWordLetter:-1,filledArray:o},r}return Object(O.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.MAX_HEIGHT_PIXEL/this.rowCount,t=this.refs.field.refs.tableContainer.getBoundingClientRect().width;.8*e<14&&(e=17.5),t>this.MAX_HEIGHT_PIXEL&&(t=this.MAX_HEIGHT_PIXEL);var r=t/this.colCount;.8*r<14&&(r=17.5),this.setState({inputSize:r>e?e:r})}},{key:"componentDidUpdate",value:function(){this.isFocusWord&&(this.isFocusWord=!1,this.focusWord(this.wordToFocus))}},{key:"restart",value:function(){for(var e=this.props.items,t=[],r=function(r){var n={};n="across"===e[r].direction?{top:0,left:1}:{top:1,left:0};for(var o=function(o){var i=t.find((function(t){return t.top===e[r].top+o*n.top&&t.left===e[r].left+o*n.left}));i?t[t.indexOf(i)]=Object(E.a)({},i,{number:0===o?1:null,wordIndex:[i.wordIndex,r],letterNumber:[{word:i.wordIndex,letter:i.letterNumber},{word:r,letter:o}]}):t.push({top:e[r].top+o*n.top,left:e[r].left+o*n.left,letter:"",number:0===o?1:null,letterNumber:o,wordIndex:r})},i=0;i<e[r].word.length;i++)o(i)},n=0;n<e.length;n++)r(n);for(var o=1,i=0;i<t.length;i++)t[i].number&&(t[i].number=o++);this.setState({currentDirection:null,currentWord:[],topStart:-1,leftStart:-1,currentItemIndex:-1,currentWordLetter:-1,filledArray:t})}},{key:"showAndComplete",value:function(){for(var e=this.state.filledArray,t=0;t<e.length;t++){var r=this.props.items,n=e[t].letterNumber.find?e[t].letterNumber[0].letter:e[t].letterNumber,o=e[t].letterNumber.find?e[t].letterNumber[0].word:e[t].wordIndex;e[t].letter=r[o].word[n]}this.setState({filledArray:e})}},{key:"changeInput",value:function(e){if(!this.props.complete){var t=this.state,r=t.currentItemIndex,n=t.currentDirection,o=t.currentWordLetter,i=t.filledArray,a=this.props,c=a.items,l=a.announceLetter,s=i.filter((function(e){return e.wordIndex===r||e.wordIndex.filter&&e.wordIndex.filter((function(e){return e===r})).length>0})),d=s.find((function(e){return e.letterNumber===o||e.letterNumber.find&&e.letterNumber.find((function(e){return e.word===r&&e.letter===o}))})),u=0,p=null;switch(d&&d.letterNumber.find&&(p=d.letterNumber.find((function(e){return e.word!==r}))),e){case $.a.UP:if("down"===n)o-1>=0&&(u=-1);else if(p&&p.letter-1>=0)return this.setState({currentItemIndex:p.word,currentWordLetter:p.letter}),this.isFocusWord=!0,this.wordToFocus=p.word,void l(p.word,p.letter,d.letter,i.find((function(e){return e.number>0&&(e.wordIndex.find?null!==e.wordIndex.find((function(e){return e.word===p.word})):e.wordIndex===p.word)})).number);break;case $.a.DOWN:if("down"===n)o+1<c[r].word.length&&(u=1);else if(p&&p.letter+1<c[p.word].word.length)return this.setState({currentItemIndex:p.word,currentWordLetter:p.letter}),this.isFocusWord=!0,this.wordToFocus=p.word,void l(p.word,p.letter,d.letter,i.find((function(e){return e.number>0&&(e.wordIndex.find?null!==e.wordIndex.find((function(e){return e.word===p.word})):e.wordIndex===p.word)})).number);break;case $.a.LEFT:if("across"===n)o-1>=0&&(u=-1);else if(p&&p.letter-1>=0)return this.setState({currentItemIndex:p.word,currentWordLetter:p.letter}),this.isFocusWord=!0,this.wordToFocus=p.word,void l(p.word,p.letter,d.letter,i.find((function(e){return e.number>0&&(e.wordIndex.find?null!==e.wordIndex.find((function(e){return e.word===p.word})):e.wordIndex===p.word)})).number);break;case $.a.RIGHT:if("across"===n)o+1<c[r].word.length&&(u=1);else if(p&&p.letter+1<c[p.word].word.length)return this.setState({currentItemIndex:p.word,currentWordLetter:p.letter}),this.isFocusWord=!0,this.wordToFocus=p.word,void l(p.word,p.letter,d.letter,i.find((function(e){return e.number>0&&(e.wordIndex.find?null!==e.wordIndex.find((function(e){return e.word===p.word})):e.wordIndex===p.word)})).number)}l(r,o+u,s.find((function(e){return e.letterNumber.find?e.letterNumber.find((function(e){return e.letter===o+u&&e.word===r})):e.letterNumber===o+u})).letter,s.find((function(e){return e.number})).number),this.setState({currentWordLetter:o+u})}}},{key:"fieldOnFocus",value:function(e){var t=this.props.items,r=null;r=e.wordIndex.find?e.wordIndex.find((function(e){return"across"===t[e].direction})):e.wordIndex,this.setState({currentItemIndex:r,currentWordLetter:e.letterNumber.find?e.letterNumber.find((function(e){return e.word===r})).letter:e.letterNumber}),this.isFocusWord=!0,this.wordToFocus=r}},{key:"focusWord",value:function(e){var t=this.props.items;this.refs.wordList.focusWord(t[e].direction,t.filter((function(r){return r.direction===t[e].direction})).indexOf(t[e]))}},{key:"wordOnBlur",value:function(){this.setState({topStart:-1,leftStart:-1,currentItemIndex:-1,currentDirection:null})}},{key:"wordOnFocus",value:function(e,t,r){var n=this.props,o=n.items,i=n.autoCheck,a=n.announceLetter,c=this.state,l=c.filledArray,s=c.currentItemIndex,d=c.currentWordLetter,u=o[t],p=l.filter((function(e){return e.wordIndex===t||e.wordIndex.indexOf&&e.wordIndex.indexOf(t)>-1})),f=p.filter((function(e){return""===e.letter||""===e.letter})),m=new Array(o[t].word.length),h=f.map((function(e){return e.letterNumber.find?e.letterNumber.find((function(e){return e.word===t})).letter:e.letterNumber}));if(p.filter((function(e){return""!==e.letter})).length>0)for(var w=0;w<p.length;w++){m[p[w].letterNumber.find?p[w].letterNumber.find((function(e){return e.word===t})).letter:p[w].letterNumber]=""!==p[w].letter?p[w].letter:""}var b=o.indexOf(u),y=s===o.indexOf(u)?d:i&&h.length>0?Math.min.apply(Math,Object(H.a)(h)):0,O=p.find((function(e){return e.letterNumber.find?e.letterNumber.find((function(e){return e.word===b&&e.letter===y})):e.letterNumber===y}));a(b,O.letterNumber.find?O.letterNumber.find((function(e){return e.word===b})).letter:O.letterNumber,O.letter,p.find((function(e){return e.number>0})).number,m.join("").toLowerCase()),this.setState({topStart:u.top,leftStart:u.left,currentItemIndex:b,currentWordLetter:y,currentDirection:r.toLowerCase(),currentWord:m})}},{key:"wordOnKeyUp",value:function(e,t){if(t.keyCode>=$.a.A&&t.keyCode<=$.a.Z||t.keyCode>=$.a.ZERO&&t.keyCode<=$.a.NINE||t.keyCode>=$.a.LEFT&&t.keyCode<=$.a.DOWN||t.keyCode===$.a.SPACEBAR||t.keyCode===$.a.DELETE||t.keyCode===$.a.BACKSPACE){var r=this.state,n=r.currentWordLetter,o=r.currentItemIndex,i=r.filledArray,a=r.currentDirection,c=this.props,l=c.completeWords,s=c.complete,d=c.announceLetter;if(-1===[$.a.UP,$.a.DOWN,$.a.LEFT,$.a.RIGHT].indexOf(t.keyCode)){var u=i.filter((function(e){return e.wordIndex===o||e.wordIndex.filter&&e.wordIndex.filter((function(e){return e===o})).length>0})).find((function(e){return e.letterNumber===n||e.letterNumber.find&&e.letterNumber.find((function(e){return e.word===o&&e.letter===n}))}));if(s||l.indexOf(u.wordIndex)>-1||u.letterNumber.find&&u.letterNumber.find((function(e){return l.indexOf(e.word)>-1})))return;if(t.keyCode===$.a.DELETE||t.keyCode===$.a.BACKSPACE){t.preventDefault();var p=this.state.currentWord,f=i,m=i.find((function(t){return t.wordIndex===e&&t.letterNumber===n||t.letterNumber.find&&!!t.letterNumber.find((function(t){return t.word===e&&t.letter===n}))})),h=p;if(""!==f[f.indexOf(m)].letter)f[f.indexOf(m)].letter="",h[n]="",this.setState({currentWord:h,filledArray:f});else if(t.keyCode===$.a.BACKSPACE&&n-1>=0){var w=i.find((function(t){return t.wordIndex===e&&t.letterNumber===n-1||t.letterNumber.find&&!!t.letterNumber.find((function(t){return t.word===e&&t.letter===n-1}))}));f[f.indexOf(w)].letter="",h[n]="",this.setState({currentWord:h,filledArray:f}),this.changeInput("across"===a?$.a.LEFT:$.a.UP)}return}var b=this.state.currentWord,y=i,O=i.find((function(t){return t.wordIndex===e&&t.letterNumber===n||t.letterNumber.find&&!!t.letterNumber.find((function(t){return t.word===e&&t.letter===n}))})),I=this.props,_=I.items,v=I.handleCorrectAnswer,x=I.handleIncorrectAnswer,N=b;if(y[y.indexOf(O)].letter=t.key,N[n]=t.key,this.setState({currentWord:N,filledArray:y}),n+1<_[e].word.length)if(this.props.autoCheck){var C=i.filter((function(t){return t.wordIndex===e||t.wordIndex.indexOf&&t.wordIndex.indexOf(e)>-1})),g=C.filter((function(e){return""===e.letter}));if(g.length>0){var E=g.map((function(t){return t.letterNumber.find?t.letterNumber.find((function(t){return t.word===e})).letter:t.letterNumber}));d(e,Math.min.apply(Math,Object(H.a)(E)),"",C.find((function(e){return e.number>0})).number),this.setState({currentWordLetter:Math.min.apply(Math,Object(H.a)(E))})}}else this.changeInput("across"===a?$.a.RIGHT:$.a.DOWN);if(-1===b.indexOf("")&&!b.includes(void 0))this.props.autoCheck&&(_[e].word.toLowerCase()===b.join("").toLocaleLowerCase()?v(e):x(e))}else this.changeInput(t.keyCode)}}},{key:"findFirstLetter",value:function(e){return this.state.filledArray.find((function(t){return t.letterNumber.find?t.letterNumber.find((function(t){return 0===t.letter&&t.word===e})):0===t.letterNumber&&t.wordIndex===e}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.items,n=t.completeWords,o=t.isPreview,i=t.complete,a=this.state,c=a.filledArray,l=a.currentItemIndex,s=a.currentWordLetter,u=a.inputSize;return d.a.createElement("div",{className:J.a.container},!P.d&&d.a.createElement(G.default,{ref:"wordList",isPreview:o,completeWords:n,onWordKeyUp:this.wordOnKeyUp,onFocus:this.wordOnFocus,onBlur:this.wordOnBlur,complete:i,acrossList:r.map((function(t,r){return"across"===t.direction?Object(E.a)({},t,{itemsWordIndex:r,number:e.findFirstLetter(r).number}):null})).filter((function(e){return e})),downList:r.map((function(t,r){return"down"===t.direction?Object(E.a)({},t,{itemsWordIndex:r,number:e.findFirstLetter(r).number}):null})).filter((function(e){return e}))}),d.a.createElement(Y,{isPreview:o,inputSize:u,completeWords:n,complete:i,ref:"field",maxPixel:this.MAX_HEIGHT_PIXEL,currentItemIndex:l,currentWordLetter:s,currentClue:r[l]?r[l].clue:"",currentNumber:"".concat(r[l]?this.findFirstLetter(l).number:"").concat(r[l]?"across"===r[l].direction?"A.":"D.":""),onFocus:this.fieldOnFocus,filledArray:c,rowCount:this.rowCount,colCount:this.colCount}))}}]),t}(d.a.Component),Object(g.a)(o.prototype,"restart",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"restart"),o.prototype),Object(g.a)(o.prototype,"showAndComplete",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"showAndComplete"),o.prototype),Object(g.a)(o.prototype,"fieldOnFocus",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"fieldOnFocus"),o.prototype),Object(g.a)(o.prototype,"focusWord",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"focusWord"),o.prototype),Object(g.a)(o.prototype,"wordOnBlur",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"wordOnBlur"),o.prototype),Object(g.a)(o.prototype,"wordOnFocus",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"wordOnFocus"),o.prototype),Object(g.a)(o.prototype,"wordOnKeyUp",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"wordOnKeyUp"),o.prototype),Object(g.a)(o.prototype,"findFirstLetter",[Q.a],Object.getOwnPropertyDescriptor(o.prototype,"findFirstLetter"),o.prototype),o),te=r(483),re=r.n(te),ne=(i=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(y.a)(t).call(this))).inputRefs=[],e}return Object(O.a)(t,e),Object(w.a)(t,[{key:"onFocusInput",value:function(e,t){(0,this.props.onFocus)(e,t)}},{key:"focusInput",value:function(e,t){this.inputRefs.find((function(r){return r.top===e&&r.left===t})).ref.focus()}},{key:"drawCols",value:function(e){for(var t=this,r=[],n=this.props,o=n.colCount,i=n.filledArray,a=n.currentItemIndex,c=n.currentWordLetter,l=n.completeWords,s=n.inputSize,u=function(n){var o=i.find((function(t){return t.top===e&&t.left===n})),u={onChange:function(e){t.props.onChange(o.wordIndex,e)}},p=o?{height:"".concat(parseFloat(s)-2,"px"),width:"".concat(parseFloat(s)-2,"px")}:{height:"".concat(parseFloat(s)-2,"px"),paddingLeft:"".concat(parseFloat(s)-2,"px")};r.push(d.a.createElement("div",{style:p,key:"divCol".concat(n),className:re.a.emptyCell},o&&d.a.createElement(d.a.Fragment,null,d.a.createElement("input",Object.assign({},u,{style:{height:"".concat(parseFloat(s)-4,"px"),width:"".concat(parseFloat(s)-4,"px"),fontSize:"".concat(.8*parseFloat(s),"px")},key:"input".concat(n),ref:function(r){r&&(t.inputRefs.find((function(e){return e.ref===r}))||t.inputRefs.push({left:n,top:e,ref:r}))},onTouchEnd:function(e){e.preventDefault();var r=t;setTimeout((function(){r.selectionStart=r.selectionEnd=1e4}),0),t.onFocusInput(o.wordIndex,o.letterNumber)},tabIndex:0,value:o?o.letter:"",type:"text",maxLength:1,className:X()(re.a.input,o.wordIndex===a||o.wordIndex.indexOf&&o.wordIndex.indexOf(a)>-1?re.a.highlighted:"",c>-1&&(c===o.letterNumber&&o.wordIndex===a||o.letterNumber.find&&o.letterNumber.find((function(e){return e.word===a&&e.letter===c})))?re.a.selected:"",l.indexOf(o.wordIndex)>-1||o.wordIndex.find&&o.wordIndex.filter((function(e){return l.indexOf(e)>-1})).length>0?re.a.correct:"")})),null!==o.number&&d.a.createElement("label",{style:{fontSize:"".concat(.8*parseFloat(s)*.4,"px")},key:"label".concat(n),"data-content":o.number?o.number:"",className:o.number?re.a.numbered:""}))))},p=0;p<o;p++)u(p);return r}},{key:"drawRows",value:function(){for(var e=[],t=this.props,r=t.rowCount,n=t.colCount,o=t.inputSize,i=this.refs.tableContainer&&n*o<this.refs.tableContainer.getBoundingClientRect().width?"center":"unset",a=0;a<r;a++)e.push(d.a.createElement("div",{style:{justifyContent:i},className:re.a.row,key:"divRow".concat(a)},this.drawCols(a)));return e}},{key:"render",value:function(){var e=this.props,t=e.currentClue,r=e.currentNumber,n=e.nextWord,o=e.prevWord;return d.a.createElement("div",{className:re.a.fieldContainer},d.a.createElement("div",{className:re.a.mobileFieldTitle},d.a.createElement("span",{className:re.a.number},r),t,d.a.createElement("div",{className:re.a.buttons},d.a.createElement(R.b,{disabled:!1,onClick:function(){o()},id:U.a.PREV,className:R.a.prev}),d.a.createElement(R.b,{disabled:!1,onClick:function(){n()},id:U.a.NEXT,className:R.a.next}))),d.a.createElement("div",{ref:"tableContainer",className:X()(re.a.tableContainer,re.a.mobile)},this.drawRows()))}}]),t}(d.a.Component),Object(g.a)(i.prototype,"focusInput",[Q.a],Object.getOwnPropertyDescriptor(i.prototype,"focusInput"),i.prototype),i),oe=r(484),ie=r.n(oe),ae=(a=function(e){function t(e){var r;Object(h.a)(this,t),r=Object(b.a)(this,Object(y.a)(t).call(this,e)),Object(I.a)(Object(C.a)(r),"MAX_HEIGHT_PIXEL",560);var n=r.props.items,o=[];r.rowCount=Math.max.apply(Math,Object(H.a)(n.filter((function(e){return"down"===e.direction})).map((function(e){return e.top+e.word.length})))),r.colCount=Math.max.apply(Math,Object(H.a)(n.filter((function(e){return"across"===e.direction})).map((function(e){return e.left+e.word.length}))));for(var i=function(e){var t={};t="across"===n[e].direction?{top:0,left:1}:{top:1,left:0};for(var r=function(r){var i=o.find((function(o){return o.top===n[e].top+r*t.top&&o.left===n[e].left+r*t.left}));i?o[o.indexOf(i)]=Object(E.a)({},i,{number:0===r?1:null,wordIndex:[i.wordIndex,e],letterNumber:[{word:i.wordIndex,letter:i.letterNumber},{word:e,letter:r}]}):o.push({top:n[e].top+r*t.top,left:n[e].left+r*t.left,letter:"",number:0===r?1:null,letterNumber:r,wordIndex:e})},i=0;i<n[e].word.length;i++)r(i)},a=0;a<n.length;a++)i(a);for(var c=1,l=0;l<o.length;l++)o[l].number&&(o[l].number=c++);for(var s=[],d=0;d<e.items[0].word.length;d++)s.push(void 0);return r.state={currentDirection:e.items[0].direction,currentWord:s,topStart:e.items[0].top,leftStart:e.items[0].left,currentItemIndex:0,currentWordLetter:0,inputSize:r.MAX_PIXEL/(r.rowCount>r.colCount?r.rowCount:r.colCount),filledArray:o},r}return Object(O.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.MAX_HEIGHT_PIXEL/this.rowCount,t=this.refs.fieldRef.refs.tableContainer.getBoundingClientRect().width;.8*e<14&&(e=17.5),t>this.MAX_HEIGHT_PIXEL&&(t=this.MAX_HEIGHT_PIXEL);var r=t/this.colCount;.8*r<14&&(r=17.5),this.setState({inputSize:r>e?e:r})}},{key:"componentDidUpdate",value:function(){if(this.isFocusInput){var e=this.state,t=e.currentWordLetter,r=e.currentItemIndex,n=e.filledArray.find((function(e){return e.letterNumber===t&&e.wordIndex===r||e.letterNumber.find&&e.letterNumber.find((function(e){return e.word===r&&e.letter===t}))}));this.isFocusInput=!1,console.log(this.state.currentDirection),this.refs.fieldRef.focusInput(n.top,n.left)}}},{key:"restart",value:function(){for(var e=this.props.items,t=[],r=function(r){var n={};n="across"===e[r].direction?{top:0,left:1}:{top:1,left:0};for(var o=function(o){var i=t.find((function(t){return t.top===e[r].top+o*n.top&&t.left===e[r].left+o*n.left}));i?t[t.indexOf(i)]=Object(E.a)({},i,{number:0===o?1:null,wordIndex:[i.wordIndex,r],letterNumber:[{word:i.wordIndex,letter:i.letterNumber},{word:r,letter:o}]}):t.push({top:e[r].top+o*n.top,left:e[r].left+o*n.left,letter:"",number:0===o?1:null,letterNumber:o,wordIndex:r})},i=0;i<e[r].word.length;i++)o(i)},n=0;n<e.length;n++)r(n);for(var o=1,i=0;i<t.length;i++)t[i].number&&(t[i].number=o++);this.setState({currentDirection:null,currentWord:[],topStart:-1,leftStart:-1,currentItemIndex:-1,currentWordLetter:-1,filledArray:t})}},{key:"showAndComplete",value:function(){for(var e=this.state.filledArray,t=0;t<e.length;t++){var r=this.props.items,n=e[t].letterNumber.find?e[t].letterNumber[0].letter:e[t].letterNumber,o=e[t].letterNumber.find?e[t].letterNumber[0].word:e[t].wordIndex;e[t].letter=r[o].word[n]}this.setState({filledArray:e})}},{key:"getCurrentWord",value:function(e){var t=this.props.items,r=this.state.filledArray.filter((function(t){return t.wordIndex===e||t.wordIndex.indexOf&&t.wordIndex.indexOf(e)>-1})),n=new Array(t[e].word.length);if(r.filter((function(e){return""!==e.letter})).length>0)for(var o=0;o<r.length;o++){n[r[o].letterNumber.find?r[o].letterNumber.find((function(t){return t.word===e})).letter:r[o].letterNumber]=""!==r[o].letter?r[o].letter:" "}return n}},{key:"changeInput",value:function(e){var t=this.state,r=t.currentItemIndex,n=t.currentDirection,o=t.currentWordLetter,i=t.filledArray,a=this.props.items,c=i.filter((function(e){return e.wordIndex===r||e.wordIndex.filter&&e.wordIndex.filter((function(e){return e===r})).length>0})).find((function(e){return e.letterNumber===o||e.letterNumber.find&&e.letterNumber.find((function(e){return e.word===r&&e.letter===o}))})),l=0,s=null;switch(c&&c.letterNumber.find&&(s=c.letterNumber.find((function(e){return e.word!==r}))),e){case $.a.UP:if("down"===n)o-1>=0&&(l=-1);else if(s&&s.letter-1>=0)return this.setState({currentItemIndex:s.word,currentDirection:"down",currentWordLetter:s.letter-1,currentWord:this.getCurrentWord(s.word)}),void(this.isFocusInput=!0);break;case $.a.DOWN:if("down"===n)o+1<a[r].word.length&&(l=1);else if(s&&s.letter+1<a[s.word].word.length)return this.setState({currentItemIndex:s.word,currentDirection:"down",currentWordLetter:s.letter+1,currentWord:this.getCurrentWord(s.word)}),void(this.isFocusInput=!0);break;case $.a.LEFT:if("across"===n)o-1>=0&&(l=-1);else if(s&&s.letter-1>=0)return this.setState({currentItemIndex:s.word,currentDirection:"across",currentWordLetter:s.letter-1,currentWord:this.getCurrentWord(s.word)}),void(this.isFocusInput=!0);break;case $.a.RIGHT:if("across"===n)o+1<a[r].word.length&&(l=1);else if(s&&s.letter+1<a[s.word].word.length)return this.setState({currentItemIndex:s.word,currentDirection:"across",currentWordLetter:s.letter+1,currentWord:this.getCurrentWord(s.word)}),void(this.isFocusInput=!0)}this.setState({currentWordLetter:o+l}),this.isFocusInput=!0}},{key:"wordOnBlur",value:function(){this.setState({topStart:-1,leftStart:-1,currentItemIndex:-1,currentDirection:null})}},{key:"wordOnFocus",value:function(e,t){var r=e.length?e[0]:e,n=!isNaN(t)||t?t.find?t.find((function(e){return e.word===r})).letter:t:-1,o=this.props,i=o.items,a=o.autoCheck,c=this.state,l=c.filledArray,s=c.currentItemIndex,d=c.currentWordLetter,u=i[r],p=l.filter((function(e){return e.wordIndex===r||e.wordIndex.indexOf&&e.wordIndex.indexOf(r)>-1})),f=p.filter((function(e){return""===e.letter||" "===e.letter})),m=new Array(i[r].word.length),h=f.map((function(e){return e.letterNumber.find?e.letterNumber.find((function(e){return e.word===r})).letter:e.letterNumber})).sort((function(e,t){return e-t}));if(p.filter((function(e){return""!==e.letter})).length>0)for(var w=0;w<p.length;w++){m[p[w].letterNumber.find?p[w].letterNumber.find((function(e){return e.word===r})).letter:p[w].letterNumber]=""!==p[w].letter?p[w].letter:" "}this.setState({topStart:u.top,leftStart:u.left,currentItemIndex:i.indexOf(u),currentWordLetter:n>-1?n:s===i.indexOf(u)?d:a&&h.length>0?Math.min.apply(Math,Object(H.a)(h)):0,currentDirection:u.direction.toLowerCase(),currentWord:m}),this.isFocusInput=!0}},{key:"onChange",value:function(e,t){var r=this.state,n=r.currentWordLetter,o=r.currentItemIndex,i=r.filledArray,a=r.currentDirection,c=this.props,l=c.completeWords,s=c.complete,d=c.items,u=e.length?d[e[0]].direction===a?e[0]:e[1]:e,p=i.filter((function(e){return e.wordIndex===o||e.wordIndex.filter&&e.wordIndex.filter((function(e){return e===o})).length>0})).find((function(e){return e.letterNumber===n||e.letterNumber.find&&e.letterNumber.find((function(e){return e.word===o&&e.letter===n}))}));if(!(s||l.indexOf(p.wordIndex)>-1||p.letterNumber.find&&p.letterNumber.find((function(e){return l.indexOf(e.word)>-1})))){var f=this.state.currentWord,m=i,h=i.find((function(e){return e.wordIndex===u&&e.letterNumber===n||e.letterNumber.find&&!!e.letterNumber.find((function(e){return e.word===u&&e.letter===n}))})),w=this.props,b=w.handleCorrectAnswer,y=w.handleIncorrectAnswer,O=m[m.indexOf(h)].letter,I=f;if(m[m.indexOf(h)].letter=t.target.value,I[n]=t.target.value,this.setState({currentWord:I,filledArray:m}),this.props.autoCheck){var _=i.filter((function(e){return e.wordIndex===u||e.wordIndex.indexOf&&e.wordIndex.indexOf(u)>-1})).filter((function(e){return""===e.letter||" "===e.letter}));if(_.length>0){var v=_.map((function(e){return e.letterNumber.find?e.letterNumber.find((function(e){return e.word===u})).letter:e.letterNumber})).sort((function(e,t){return e-t})),x=v.find((function(e){return e>n}));x||(x=Math.min.apply(Math,Object(H.a)(v))),""!==O&&""===t.target.value||(this.setState({currentWordLetter:x}),this.isFocusInput=!0)}}else this.changeInput("across"===a?$.a.RIGHT:$.a.DOWN);if(-1===f.indexOf(" ")&&!f.includes(void 0))this.props.autoCheck&&(d[u].word.toLowerCase()===f.join("").toLowerCase()?b(u):y(u))}}},{key:"findFirstLetter",value:function(e){return this.state.filledArray.find((function(t){return t.letterNumber.find?t.letterNumber.find((function(t){return 0===t.letter&&t.word===e})):0===t.letterNumber&&t.wordIndex===e}))}},{key:"nextWord",value:function(){var e=this.state.currentItemIndex,t=this.props.items,r=e+1>=t.length?t[0]:t[e+1],n=e+1>=t.length?0:e+1;this.setState({currentWord:this.getCurrentWord(n),currentItemIndex:n,currentDirection:r.direction,currentWordLetter:0}),this.isFocusInput=!0}},{key:"prevWord",value:function(){var e=this.state.currentItemIndex,t=this.props.items,r=e-1<0?t[t.length-1]:t[e-1],n=e-1<0?t.length-1:e-1;this.setState({currentWord:this.getCurrentWord(n),currentItemIndex:n,currentDirection:r.direction,currentWordLetter:0}),this.isFocusInput=!0}},{key:"render",value:function(){var e=this.props,t=e.items,r=e.completeWords,n=this.state,o=n.filledArray,i=n.currentItemIndex,a=n.currentWordLetter,c=n.inputSize;return d.a.createElement("div",{className:ie.a.container},d.a.createElement(ne,{inputSize:c,completeWords:r,ref:"fieldRef",prevWord:this.prevWord,nextWord:this.nextWord,currentItemIndex:i,currentWordLetter:a,currentClue:t[i]?t[i].clue:"",currentNumber:"".concat(t[i]?this.findFirstLetter(i).number:"").concat(t[i]?"across"===t[i].direction?"A.":"D.":""),onFocus:this.wordOnFocus,onChange:this.onChange,filledArray:o,rowCount:this.rowCount,colCount:this.colCount}))}}]),t}(d.a.Component),Object(g.a)(a.prototype,"restart",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"restart"),a.prototype),Object(g.a)(a.prototype,"showAndComplete",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"showAndComplete"),a.prototype),Object(g.a)(a.prototype,"getCurrentWord",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"getCurrentWord"),a.prototype),Object(g.a)(a.prototype,"wordOnBlur",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"wordOnBlur"),a.prototype),Object(g.a)(a.prototype,"wordOnFocus",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"wordOnFocus"),a.prototype),Object(g.a)(a.prototype,"onChange",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"onChange"),a.prototype),Object(g.a)(a.prototype,"findFirstLetter",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"findFirstLetter"),a.prototype),Object(g.a)(a.prototype,"nextWord",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"nextWord"),a.prototype),Object(g.a)(a.prototype,"prevWord",[Q.a],Object.getOwnPropertyDescriptor(a.prototype,"prevWord"),a.prototype),a),ce=r(269),le=r(271),se=r(68),de=r(48),ue=r(49);window.Promise||(window.Promise=r(404).Promise),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!==typeof e)throw TypeError("predicate must be a function");for(var n=arguments[1],o=0;o<r;){var i=t[o];if(e.call(n,i,o,t))return i;o++}},configurable:!0,writable:!0}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"===typeof t||"[object Function]"===e.call(t)},r=Math.pow(2,53)-1,n=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),r)};return function(e){var r=this,o=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if("undefined"!==typeof a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var c,l=n(o.length),s=t(r)?Object(new r(l)):new Array(l),d=0;d<l;)c=o[d],s[d]=a?"undefined"===typeof i?a(c,d):a.call(i,c,d):c,d+=1;return s.length=l,s}}());var pe,fe,me,he=Object(f.b)((function(e){return Object(E.a)({},e,{activityId:e.id,activityType:e.type,activityName:e.name})}),x)(c=Object(D.a)("Activity")((l=function(e){function t(){var e,r;Object(h.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=Object(b.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(o))),Object(I.a)(Object(C.a)(r),"state",{ariaText:"",displayedScore:0,completeWords:[],complete:!1}),Object(I.a)(Object(C.a)(r),"onActivityKeyDown",(function(e){switch(e.keyCode){case $.a.S:e.altKey&&r.completeActivity();break;case $.a.R:e.altKey&&r.restart()}})),r}return Object(O.a)(t,e),Object(w.a)(t,[{key:"completeActivity",value:function(){var e=this,t=this.props,r=t.showAnswers,n=t.autoCheck,o=t.items,i=t.score,a=t.playFeedbackSounds,c=t.activityId,l=t.activityType,s=this.state.complete,d=this.state.displayedScore,u=this.state.completeWords;if(!s){if(a&&M.a.playCorrect(),!n){u=[];for(var p=function(t){for(var r=e.refs.viewRef.state.filledArray.filter((function(e){return e.wordIndex===t||e.wordIndex.filter&&e.wordIndex.filter((function(e){return e===t})).length>0})),n=[],a=0;a<r.length;a++){n[r[a].letterNumber.find?r[a].letterNumber.find((function(e){return e.word===t})).letter:r[a].letterNumber]=""!==r[a].letter?r[a].letter:" "}n.join("").toLowerCase()===o[t].word.toLowerCase()&&(d+=i/o.length,u.push(t))},f=0;f<o.length;f++)p(f)}this.setState({complete:!0,displayedScore:d,completeWords:u,ariaText:"Completed! ".concat(n||u.length!==o.length?"":"Congratulations, you have solved the crossword puzzle, all words are correct!"," Your score is ").concat(parseFloat(d.toFixed(1))," of ").concat(i," points.\n        Use Tab to navigate between the clues and\n        get feedback about their related words.")}),r&&this.refs.viewRef.showAndComplete(),Object(se.b)({id:c,type:l,pointsEarned:d,maxValue:i,isRestart:!1,options:JSON.stringify({filledArray:this.refs.viewRef.state.filledArray,completeWords:u})})}}},{key:"fillStorage",value:function(e){var t=this.props,r=t.activityId,n=t.activityType;if(e==="".concat(n,"-").concat(r)){var o=null;sessionStorage&&(o=JSON.parse(sessionStorage.getItem("".concat(n,"-").concat(r)))),o&&o.hasOwnProperty("pointsEarned")&&o.hasOwnProperty("isRestart")&&!1===o.isRestart&&(this.refs.viewRef.setState({filledArray:o.options.filledArray}),this.setState({complete:!0,completeWords:o.options.completeWords,displayedScore:o.pointsEarned}))}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.activityId,r=e.activityType;this.fillStorage("".concat(r,"-").concat(t)),de.a.on(ue.a.LOAD_STORAGE,this.fillStorage)}},{key:"restart",value:function(){var e=this.props,t=e.activityId,r=e.activityType,n=e.score;this.refs.viewRef.restart(),Object(se.b)({id:t,type:r,pointsEarned:0,maxValue:n,isRestart:!0}),this.setState({complete:!1,displayedScore:0,completeWords:[],ariaText:"The activity has been restarted"})}},{key:"announceLetter",value:function(e,t,r,n,o){var i=this.props.items[e],a=this.props.showAnswers,c=this.state,l=c.complete,s=c.completeWords;this.setState({ariaText:l?"".concat(n).concat("down"===i.direction?"D":"A",": \n          ").concat(i.clue,", ","Your answer \n          ".concat(s.indexOf(e)>-1?i.word:a?"":o," is\n          ").concat(s.indexOf(e)>-1?"correct":"incorrect","!"),"\n          ").concat(-1===s.indexOf(e)&&a?"correct answer is ".concat(i.word):"","\n        "):"".concat(n).concat("down"===i.direction?"D":"A",": \n          ").concat(i.clue,", Answer: ").concat(i.word.length," letters. You are on the letter ").concat(t+1,",\n          ").concat(""!==r?" it is ".concat(r):" it is empty",".")})}},{key:"handleCorrectAnswer",value:function(e){var t=this.state.completeWords,r=this.props,n=r.playFeedbackSounds,o=r.score,i=r.items,a=t,c=this.state.displayedScore;if(a.push(e),n&&M.a.playCorrect(),c+=o/i.length,a.length===i.length){var l=this.props,s=l.activityId,d=l.activityType;Object(se.b)({id:s,type:d,pointsEarned:c,maxValue:o,isRestart:!1,options:JSON.stringify({filledArray:this.refs.viewRef.state.filledArray,completeWords:t})})}this.setState({completeWords:a,displayedScore:c,complete:a.length===i.length,ariaText:a.length===i.length?"Completed! Congratulations, you have solved the \n          crossword puzzle, all words are correct!\n          Your score is ".concat(o," of ").concat(o," points.\n          Use Tab to navigate between the clues and review \n          their related words."):"Your answer ".concat(i[e].word," is Correct!")}),console.log("Correct: ",e)}},{key:"handleIncorrectAnswer",value:function(e){console.log("Incorrect: ",e)}},{key:"render",value:function(){var e=this.props,t=e.studentInstruction,r=e.activityName,n=e.showRestart,o=e.showAnswers,i=e.autoCheck,a=e.score,c=this.state,l=c.ariaText,s=c.complete,u=c.displayedScore,p=c.completeWords;return d.a.createElement("section",{role:"application",tabIndex:"0",className:A.a.container,onKeyDown:this.onActivityKeyDown},d.a.createElement(ce.a,{ariaText:l}),d.a.createElement(le.a,{activityName:r,studentInstruction:t}),d.a.createElement("div",{className:A.a.player},d.a.createElement(B,{completeActivity:this.completeActivity,restart:this.restart,complete:s,autoCheck:i,totalScore:a,displayedScore:parseFloat(u.toFixed(1)),showRestart:n,onButtonFocus:function(){},showAnswers:o}),P.d?d.a.createElement(ae,Object.assign({ref:"viewRef",handleCorrectAnswer:this.handleCorrectAnswer,handleIncorrectAnswer:this.handleIncorrectAnswer,completeWords:p,complete:s},this.props)):d.a.createElement(ee,Object.assign({ref:"viewRef",handleCorrectAnswer:this.handleCorrectAnswer,handleIncorrectAnswer:this.handleIncorrectAnswer,completeWords:p,complete:s,announceLetter:this.announceLetter},this.props))))}}]),t}(s.PureComponent),Object(g.a)(l.prototype,"completeActivity",[Q.a],Object.getOwnPropertyDescriptor(l.prototype,"completeActivity"),l.prototype),Object(g.a)(l.prototype,"fillStorage",[Q.a],Object.getOwnPropertyDescriptor(l.prototype,"fillStorage"),l.prototype),Object(g.a)(l.prototype,"restart",[Q.a],Object.getOwnPropertyDescriptor(l.prototype,"restart"),l.prototype),Object(g.a)(l.prototype,"announceLetter",[Q.a],Object.getOwnPropertyDescriptor(l.prototype,"announceLetter"),l.prototype),Object(g.a)(l.prototype,"handleCorrectAnswer",[Q.a],Object.getOwnPropertyDescriptor(l.prototype,"handleCorrectAnswer"),l.prototype),Object(g.a)(l.prototype,"handleIncorrectAnswer",[Q.a],Object.getOwnPropertyDescriptor(l.prototype,"handleIncorrectAnswer"),l.prototype),c=l))||c)||c,we=Object(f.b)((function(e){return{displayMode:e.displayMode,displaySetting:e.displaySetting,displayIconImage:e.displayIconImage,activityName:e.name,activityType:e.type}}),x)((me=fe=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(w.a)(t,[{key:"activity",get:function(){return d.a.createElement(he,{activityAlign:this.activityAlign})}}]),t}(N.a),Object(I.a)(fe,"propTypes",N.a.propTypes),pe=me))||pe,be=r(280),ye=r(277);r.d(t,"bootstrap",(function(){return Oe}));var Oe=function(e,t,r){var n,o=be.a.createStore((n=t,Object(E.a)({},n)),m);p.a.render(d.a.createElement(f.a,{store:o},d.a.createElement(ye.a.Provider,{value:r.crossword},d.a.createElement(we,null))),e)}},269:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(31),o=r(32),i=r(254),a=r(252),c=r(256),l=r(253),s=r(255),d=r(251),u=r.n(d),p=r(294),f=function(e){function t(){var e,r;Object(n.a)(this,t);for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];return r=Object(i.a)(this,(e=Object(a.a)(t)).call.apply(e,[this].concat(l))),Object(s.a)(Object(c.a)(r),"state",{text:r.props.ariaText}),r}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.ariaText;this.setState({text:t!==this.state.text?t:t===t.trim()?"".concat(t," "):t.trim()})}},{key:"render",value:function(){var e=this.state.text;return u.a.createElement(p.a,null,u.a.createElement(p.b,{message:e,"aria-live":"polite",clearOnUnmount:!0}))}}]),t}(d.PureComponent)},270:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"List_container__2C2q_",top:"List_top__2FRj6",bottom:"List_bottom__3XqE_",item:"List_item__2gTLg",action:"List_action__2eo5L",code:"List_code__16xAB",key:"List_key__1-I_n"}},271:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(31),o=r(32),i=r(254),a=r(252),c=r(253),l=r(276),s=r.n(l),d=r(251),u=r.n(d),p=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activityName,r=e.studentInstruction;return u.a.createElement("div",{className:s.a.container},u.a.createElement("h1",{className:s.a.name},t),u.a.createElement("p",{className:s.a.instruction},r))}}]),t}(d.PureComponent)},272:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}));var n={BOUNCE:"animated bounce",BOUNCE_OUT:"animated bounceOut",BOUNCE_OUT_UP:"animated bounceOutUp",BOUNCE_OUT_DOWN:"animated bounceOutDown",BOUNCE_OUT_LEFT:"animated bounceOutLeft",BOUNCE_OUT_RIGHT:"animated bounceOutRight",BOUNCE_IN:"animated bounceIn",BOUNCE_IN_UP:"animated bounceInUp",BOUNCE_IN_DOWN:"animated bounceInDown",BOUNCE_IN_LEFT:"animated bounceInLeft",BOUNCE_IN_RIGHT:"animated bounceInRight",FADE_IN:"animated fadeIn",FADE_IN_DOWN:"animated fadeInDown",FADE_IN_DOWN_BIG:"animated fadeInDownBig",FADE_IN_LEFT:"animated fadeInLeft",FADE_IN_LEFT_BIG:"animated fadeInLeftBig",FADE_IN_RIGHT:"animated fadeInRight",FADE_IN_RIGHT_BIG:"animated fadeInRightBig",FADE_IN_UP:"animated fadeInUp",FADE_IN_UP_BIG:"animated fadeInUpBig",FADE_OUT:"animated fadeOut",FADE_OUT_DOWN:"animated fadeOutDown",FADE_OUT_DOWN_BIG:"animated fadeOutDownBig",FADE_OUT_LEFT:"animated fadeOutLeft",FADE_OUT_LEFT_BIG:"animated fadeOutLeftBig",FADE_OUT_RIGHT:"animated fadeOutRight",FADE_OUT_RIGHT_BIG:"animated fadeOutRightBig",FADE_OUT_UP:"animated fadeOutUp",FADE_OUT_UP_BIG:"animated fadeOutUpBig",FLIP:"animated flip",FLIP_IN_X:"animated flipInX",FLIP_IN_Y:"animated flipInY",FLIP_OUT_X:"animated flipOutX",FLIP_OUT_Y:"animated flipOutY",LIGHT_SPEED_IN:"animated lightSpeedIn",LIGHT_SPEED_OUT:"animated lightSpeedOut",ROTATE_IN:"animated rotateIn",ROTATE_IN_DOWN_LEFT:"animated rotateInDownLeft",ROTATE_IN_DOWN_RIGHT:"animated rotateInDownRight",ROTATE_IN_UP_LEFT:"animated rotateInUpLeft",ROTATE_IN_UP_RIGHT:"animated rotateInUpRight",ROTATE_OUT:"animated rotateOut",ROTATE_OUT_DOWN_LEFT:"animated rotateOutDownLeft",ROTATE_OUT_DOWN_RIGHT:"animated rotateOutDownRight",ROTATE_OUT_UP_LEFT:"animated rotateOutUpLeft",ROTATE_OUT_UP_RIGHT:"animated rotateOutUpRight",ROLL_IN:"animated rollIn",ROLL_OUT:"animated rollOut",ZOOM_IN:"animated zoomIn",ZOOM_IN_RIGHT:"animated zoomInRight",ZOOM_IN_LEFT:"animated zoomInLeft",ZOOM_IN_DOWN:"animated zoomInDown",ZOOM_IN_UP:"animated zoomInUp",ZOOM_OUT:"animated zoomOut",ZOOM_OUT_RIGHT:"animated zoomOutRight",ZOOM_OUT_LEFT:"animated zoomOutLeft",ZOOM_OUT_DOWN:"animated zoomOutDown",ZOOM_OUT_UP:"animated zoomOutUp",SLIDE_IN_UP:"animated slideInUp",SLIDE_IN_DOWN:"animated slideInDown",SLIDE_IN_LEFT:"animated slideInLeft",SLIDE_IN_RIGHT:"animated slideInRight",SLIDE_OUT_UP:"animated slideOutUp",SLIDE_OUT_DOWN:"animated slideOutDown",SLIDE_OUT_LEFT:"animated slideOutLeft",SLIDE_OUT_RIGHT:"animated slideOutRight",FLASH:"animated flash",PULSE:"animated pulse",TADA:"animated tada",RUBBER_BAND:"animated rubberBand",HEART_BEAT:"animated heartBeat",WOBBLE:"animated wobble",JELLO:"animated jello",HINGE:"animated hinge",JACK_IN_THE_BOX:"animated jackInTheBox"},o={SHAKE:"animated shake",SWING:"animated swing"}},273:function(e,t,r){"use strict";var n,o,i,a=r(31),c=r(32),l=r(254),s=r(252),d=r(256),u=r(253),p=r(255),f=r(281),m=r.n(f),h=r(251),w=r.n(h),b=r(257),y=r.n(b),O=r(261),I=r(263),_=r(272),v=r(265),x=r(258),N=r(264),C=r(270),g=r.n(C),E=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getListItem",value:function(e,t){var r=this.props.onKeyDown,n=e.key?g.a.key:g.a.code,o=e.key?e.key:e.code;return w.a.createElement("li",{key:t,tabIndex:"0","aria-label":e.description,className:g.a.item,onKeyDown:function(e){r(t,e)}},w.a.createElement("span",{className:g.a.action},e.action),w.a.createElement("span",{className:n},o))}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=t.items;return w.a.createElement("ul",{className:y()(g.a.container,r)},n.map((function(t,r){return e.getListItem(t,r)})))}}]),t}(h.PureComponent),j=Object(O.a)("Shortcuts")((i=o=function(e){function t(){var e,r;Object(a.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))),Object(p.a)(Object(d.a)(r),"state",{listClass:v.a.HIDDEN,listExpanded:!1}),Object(p.a)(Object(d.a)(r),"onButtonClick",(function(){r.state.listExpanded?r.hide():r.show()})),Object(p.a)(Object(d.a)(r),"onButtonKeyDown",(function(e){e.keyCode===x.a.TAB&&e.shiftKey&&r.hide()})),Object(p.a)(Object(d.a)(r),"onBlur",(function(e){r.refs.container.contains(e.relatedTarget)||r.hide()})),Object(p.a)(Object(d.a)(r),"onListKeyDown",(function(e,t){t.keyCode===x.a.TAB&&(t.shiftKey||e!==r.listItems.length-1||r.hide())})),r}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.refs.container.addEventListener("focusout",this.onBlur)}},{key:"show",value:function(){this.setState({listClass:_.a.FADE_IN,listExpanded:!0})}},{key:"hide",value:function(){this.setState({listClass:v.a.HIDDEN,listExpanded:!1})}},{key:"render",value:function(){var e=this.state,t=e.listClass,r=e.listExpanded,n=this.props,o=n.listPosition,i=n.className;return w.a.createElement("div",{ref:"container",className:y()(m.a.container,i)},w.a.createElement(N.b,{id:I.a.NAVIGATION,className:N.a.navigation,onClick:this.onButtonClick,onKeyDown:this.onButtonKeyDown,hint:!0,ariaExpanded:r}),w.a.createElement(E,{items:this.listItems,className:y()(t,g.a[o]),onKeyDown:this.onListKeyDown}))}},{key:"listItems",get:function(){var e=this.props.excludeItems;return e?Object.values(this.locale).filter((function(t){return!e[t.action]})):Object.values(this.locale)}}]),t}(h.PureComponent),Object(p.a)(o,"defaultProps",{excludeItems:null,listPosition:"bottom"}),n=i))||n;t.a=j},276:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"ActivityHeader_container__2BY61",name:"ActivityHeader_name__YEP5r",instruction:"ActivityHeader_instruction__3zNU4"}},281:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"ShortcutsButton_container__2YuDO"}},282:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(31),o=r(32),i=r(314),a=r(289),c=r.n(a),l=r(290),s=r.n(l),d=new(function(){function e(){Object(n.a)(this,e),this.correct=new i.Howl({src:[c.a]}),this.wrong=new i.Howl({src:[s.a]})}return Object(o.a)(e,[{key:"playCorrect",value:function(){var e=this;this.stop(),"unloaded"===this.correct.state()?(this.correct.on("load",(function(){e.correct=new i.Howl({src:[c.a]}),e.correct.play()})),this.correct.load()):this.correct.play()}},{key:"playWrong",value:function(){var e=this;this.stop(),"unloaded"===this.wrong.state()?(this.wrong.on("load",(function(){e.wrong=new i.Howl({src:[s.a]}),e.wrong.play()})),this.wrong.load()):this.wrong.play()}},{key:"stop",value:function(){this.correct.playing()&&this.correct.stop(),this.wrong.playing()&&this.wrong.stop()}}]),e}())},289:function(e,t,r){e.exports=r.p+"static/media/correct.mp3"},290:function(e,t,r){e.exports=r.p+"static/media/wrong.mp3"},335:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",wordListContainer:"WordList_wordListContainer__mqkWk",wordList:"WordList_wordList__2ssGr",correct:"WordList_correct__3IDDT",title:"WordList_title__2bajw"}},478:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Activity_container__3HdDZ",player:"Activity_player__aZyw9"}},479:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Controls_container__3egRy",navigation:"Controls_navigation__2ronv",score:"Controls_score__1oIX0",buttons:"Controls_buttons__hnlkR",outline:"Controls_outline__2CdGh"}},480:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Score_container__3BTmI",current:"Score_current__2zaUX",total:"Score_total__2XfAj"}},481:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",fieldContainer:"Field_fieldContainer__2LFIH",fieldTitle:"Field_fieldTitle___jziS",number:"Field_number__3rk9D",buttons:"Field_buttons__1o3GI",fieldTitleMobile:"Field_fieldTitleMobile__1twCC",tableContainer:"Field_tableContainer__LNdT1",mobile:"Field_mobile__zUwbQ",row:"Field_row__2zBd7",selectedRow:"Field_selectedRow__BSXvV",emptyCell:"Field_emptyCell__2AmG5",selectedCell:"Field_selectedCell__Trov8",input:"Field_input__zU1ac",highlighted:"Field_highlighted__2JD3B",correct:"Field_correct__2_DFR",selected:"Field_selected__pdJ25",numbered:"Field_numbered__1eqMc",nonEmpty:"Field_nonEmpty__3x8Ti",blackout:"Field_blackout__AkVZ6"}},482:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"DesktopView_container__14uGT"}},483:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",fieldContainer:"MobileField_fieldContainer__2X3RM",mobileFieldTitle:"MobileField_mobileFieldTitle__3461J",number:"MobileField_number__19wxO",buttons:"MobileField_buttons__3VoCE",tableContainer:"MobileField_tableContainer__1bWdp",mobile:"MobileField_mobile__tKrhj",row:"MobileField_row__2zNW1",emptyCell:"MobileField_emptyCell__rKeqO",input:"MobileField_input__dD4jM",highlighted:"MobileField_highlighted__3Js9s",correct:"MobileField_correct__AOqHE",selected:"MobileField_selected__I-5N3",numbered:"MobileField_numbered__3ki3z"}},484:function(e,t,r){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"MobileView_container__wOh4l"}}}]);
//# sourceMappingURL=crossword-index.js.map