/*! For license information please see imagemap-index.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{250:function(e,t,n){"use strict";n.r(t);var o,a,s,r,i=n(251),c=n.n(i),p=n(268),u=n.n(p),l=n(259),f={},v=n(31),d=n(32),y=n(254),h=n(252),g=n(253),b=n(255),m=n(275),w={},O=function(e){return Object(m.b)(w,e)},j=n(279),A=n(22),M=n.n(A),E=n(52),S=n(256),P=n(260),x=n(501),_=n.n(x),C=n(261),I=n(66),T=n(269),R=n(271),H=n(344),K=n(413),N=n(376),k=n(414),U=n(258),W=n(321),D=n(502),z=n.n(D),B=n(257),L=n.n(B),V=n(264),F=n(263),G=n(273),J=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:z.a.container},c.a.createElement("div",{className:L()(z.a.item,z.a.navigation)},!I.d&&c.a.createElement(G.a,null)),c.a.createElement("div",{className:L()(z.a.item,z.a.buttons)},c.a.createElement(V.b,{id:F.a.TOGGLE_HOTSPOTS,className:V.a["show-answers"],onClick:this.props.toggleHotspots,hint:!0})))}}]),t}(i.PureComponent),Y=Object(l.b)((function(e){return{activityId:e.id,activityName:e.name,studentInstruction:e.studentInstruction,spots:e.spots,viewBox:Object(P.a)({},e.viewBox,{x:e.viewBox.left,y:e.viewBox.top}),image:e.image,showHints:e.showHints}}),O)(o=Object(C.a)("Activity")(o=function(e){function t(){var e,n;Object(v.a)(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=Object(y.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a))),Object(b.a)(Object(S.a)(n),"state",n.initialState),Object(b.a)(Object(S.a)(n),"spotsRef",[]),Object(b.a)(Object(S.a)(n),"playerStyle",Object(P.a)({},n.props.activityAlign)),Object(b.a)(Object(S.a)(n),"onResize",(function(){n.setState({svgWidth:n.refs.svgWrapper.clientWidth})})),Object(b.a)(Object(S.a)(n),"onSVGMouseDown",(function(){n.updatePopup({show:!1})})),Object(b.a)(Object(S.a)(n),"updatePopup",(function(e){n.refs.popup.update(e,n.refs.player)})),Object(b.a)(Object(S.a)(n),"toggleHotspots",(function(){var e=n.state.showHotspots,t=e?n.locale.hide_hotspots:n.locale.show_hotspots;n.setState({showHotspots:!e,ariaText:""}),n.updateAriaText(t)})),Object(b.a)(Object(S.a)(n),"onActivityKeyDown",(function(e){switch(e.keyCode){case U.a.S:e.altKey&&n.props.showHints&&(e.preventDefault(),n.toggleHotspots())}})),Object(b.a)(Object(S.a)(n),"onActivityTouchEnd",(function(e){var t=n.refs.popup,o=t.refs.popupContainer;t.show&&!o.contains(e.target)&&(n.spotsRef[n.currentKey].setState({popUpShown:!1}),n.updatePopup({show:!1}))})),Object(b.a)(Object(S.a)(n),"focusCurrentSpot",(function(){n.spotsRef[n.currentKey].setFocus()})),Object(b.a)(Object(S.a)(n),"focusNextSpot",(function(){n.currentKey+1<n.spotsRef.length?n.spotsRef[n.currentKey+1].setFocus():n.refs.popup.setState({show:!1}),n.spotsRef[n.currentKey].setState({visible:!1,popUpShown:!1})})),Object(b.a)(Object(S.a)(n),"focusPopup",(function(e){n.currentKey=e,n.refs.popup.focusPopup()})),Object(b.a)(Object(S.a)(n),"popUpLeave",(function(){n.currentKey&&(n.spotsRef[n.currentKey].state.popUpShown&&n.spotsRef[n.currentKey].setState({popUpShown:!1}))})),Object(b.a)(Object(S.a)(n),"spotSelected",(function(e){n.currentKey=e})),Object(b.a)(Object(S.a)(n),"blurHandler",(function(){n.currentKey&&n.spotsRef[n.currentKey]&&(n.spotsRef[n.currentKey].setState({popUpShown:!1,visible:!1}),n.updatePopup({show:!1}))})),n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){(I.b||I.g)&&(this.onResize(),window.addEventListener("resize",this.onResize))}},{key:"componentWillUnmount",value:function(){(I.b||I.g)&&window.removeEventListener("resize",this.onResize)}},{key:"updateAriaText",value:function(){var e=Object(E.a)(M.a.mark((function e(t){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)(0);case 2:this.setState({ariaText:t});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.studentInstruction,o=t.activityName,a=t.activityId,s=t.viewBox,r=t.image,i=t.spots;return c.a.createElement("section",{tabIndex:"0",className:_.a.container,onKeyDown:this.onActivityKeyDown,onTouchEnd:this.onActivityTouchEnd,onBlur:this.blurHandler},c.a.createElement(T.a,{ariaText:this.state.ariaText}),c.a.createElement(R.a,{activityName:o,studentInstruction:n}),c.a.createElement("div",{ref:"player",style:this.playerStyle,className:_.a.player},this.props.showHints&&c.a.createElement(J,{toggleHotspots:this.toggleHotspots}),c.a.createElement("div",{role:"application",ref:"svgWrapper",className:_.a.body},c.a.createElement(H.a,Object.assign({viewBox:s},this.svgSize,{onMouseDown:this.onSVGMouseDown}),c.a.createElement(K.a,{viewBox:s,url:r.url}),i.map((function(t,n){return c.a.createElement(k.a,Object.assign({ref:function(t){return e.spotsRef[n]=t},focusPopup:e.focusPopup,togglePopup:!0,key:n,spotNumber:n,activityId:a,mode:"explore",visible:e.state.showHotspots,updateHandler:e.updatePopup,spotSelected:e.spotSelected},t))})))),c.a.createElement(N.a,{focusCurrentSpot:this.focusCurrentSpot,focusNextSpot:this.focusNextSpot,ref:"popup",activityId:a,popUpLeave:I.d?null:this.popUpLeave})))}},{key:"initialState",get:function(){return{showHotspots:!1,ariaText:""}}},{key:"svgSize",get:function(){var e=this.props.image,t={maxWidth:e.width,maxHeight:e.height};return(I.b||I.g)&&this.state.svgWidth&&(t.width=this.state.svgWidth,t.height=this.state.svgWidth/e.width*e.height),t}}]),t}(i.PureComponent))||o)||o,q=Object(l.b)((function(e){return{displayMode:e.displayMode,displaySetting:e.displaySetting,displayIconImage:e.displayIconImage,activityName:e.name,activityType:e.type}}),O)((r=s=function(e){function t(){return Object(v.a)(this,t),Object(y.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"activity",get:function(){return c.a.createElement(Y,{activityAlign:this.activityAlign})}}]),t}(j.a),Object(b.a)(s,"propTypes",j.a.propTypes),a=r))||a,Q=n(280),X=n(277);n.d(t,"bootstrap",(function(){return Z}));var Z=function(e,t,n){var o,a=Q.a.createStore((o=t,Object(P.a)({},o)),f);u.a.render(c.a.createElement(l.a,{store:a},c.a.createElement(X.a.Provider,{value:n.imagemap},c.a.createElement(q,null))),e)}},294:function(e,t,n){"use strict";var o=n(251),a=n.n(o),s=(n(262),{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",whiteSpace:"nowrap",padding:0,width:"1px",position:"absolute"}),r=function(e){var t=e.message,n=e["aria-live"];return a.a.createElement("div",{style:s,role:"log","aria-live":n},t||"")};r.propTypes={};var i=r;function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=c(this,e.call.apply(e,[this].concat(s))),o.state={assertiveMessage1:"",assertiveMessage2:"",politeMessage1:"",politeMessage2:"",oldPolitemessage:"",oldPoliteMessageId:"",oldAssertiveMessage:"",oldAssertiveMessageId:"",setAlternatePolite:!1,setAlternateAssertive:!1},c(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.oldPolitemessage,o=t.oldPoliteMessageId,a=t.oldAssertiveMessage,s=t.oldAssertiveMessageId,r=e.politeMessage,i=e.politeMessageId,c=e.assertiveMessage,p=e.assertiveMessageId;return n!==r||o!==i?{politeMessage1:t.setAlternatePolite?"":r,politeMessage2:t.setAlternatePolite?r:"",oldPolitemessage:r,oldPoliteMessageId:i,setAlternatePolite:!t.setAlternatePolite}:a!==c||s!==p?{assertiveMessage1:t.setAlternateAssertive?"":c,assertiveMessage2:t.setAlternateAssertive?c:"",oldAssertiveMessage:c,oldAssertiveMessageId:p,setAlternateAssertive:!t.setAlternateAssertive}:null},t.prototype.render=function(){var e=this.state,t=e.assertiveMessage1,n=e.assertiveMessage2,o=e.politeMessage1,s=e.politeMessage2;return a.a.createElement("div",null,a.a.createElement(i,{"aria-live":"assertive",message:t}),a.a.createElement(i,{"aria-live":"assertive",message:n}),a.a.createElement(i,{"aria-live":"polite",message:o}),a.a.createElement(i,{"aria-live":"polite",message:s}))},t}(o.Component);p.propTypes={};var u=p;function l(){console.warn("Announcement failed, LiveAnnouncer context is missing")}var f=a.a.createContext({announceAssertive:l,announcePolite:l});var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.announcePolite=function(e,t){o.setState({announcePoliteMessage:e,politeMessageId:t||""})},o.announceAssertive=function(e,t){o.setState({announceAssertiveMessage:e,assertiveMessageId:t||""})},o.state={announcePoliteMessage:"",politeMessageId:"",announceAssertiveMessage:"",assertiveMessageId:"",updateFunctions:{announcePolite:o.announcePolite,announceAssertive:o.announceAssertive}},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.announcePoliteMessage,n=e.politeMessageId,o=e.announceAssertiveMessage,s=e.assertiveMessageId,r=e.updateFunctions;return a.a.createElement(f.Provider,{value:r},this.props.children,a.a.createElement(u,{assertiveMessage:o,assertiveMessageId:s,politeMessage:t,politeMessageId:n}))},t}(o.Component),d=n(332),y=n.n(d);function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];return n=o=h(this,e.call.apply(e,[this].concat(s))),o.announce=function(){var e=o.props,t=e.message,n=e["aria-live"],a=e.announceAssertive,s=e.announcePolite;"assertive"===n&&a(t||"",y()()),"polite"===n&&s(t||"",y()())},h(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.announce()},t.prototype.componentDidUpdate=function(e){this.props.message!==e.message&&this.announce()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.clearOnUnmount,n=e.announceAssertive,o=e.announcePolite;!0!==t&&"true"!==t||(n(""),o(""))},t.prototype.render=function(){return null},t}(o.Component);g.propTypes={};var b=g,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w=function(e){return a.a.createElement(f.Consumer,null,(function(t){return a.a.createElement(b,m({},t,e))}))};w.propTypes={};var O=w,j=function(e){var t=e.children;return a.a.createElement(f.Consumer,null,(function(e){return t(e)}))};j.propTypes={};n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return O}))},332:function(e,t,n){var o=n(333),a=n(334);e.exports=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var i=0;i<16;++i)t[s+i]=r[i];return t||a(r)}},333:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},334:function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,a=n;return[a[e[o++]],a[e[o++]],a[e[o++]],a[e[o++]],"-",a[e[o++]],a[e[o++]],"-",a[e[o++]],a[e[o++]],"-",a[e[o++]],a[e[o++]],"-",a[e[o++]],a[e[o++]],a[e[o++]],a[e[o++]],a[e[o++]],a[e[o++]]].join("")}},501:function(e,t,n){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Activity_container__1f__W",player:"Activity_player__3j3v7"}},502:function(e,t,n){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Controls_container__2yYnY",item:"Controls_item__Ac5rE",navigation:"Controls_navigation__2QqJ2",buttons:"Controls_buttons__9TK2Y"}}}]);
//# sourceMappingURL=imagemap-index.js.map