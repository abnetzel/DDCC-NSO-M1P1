/*! For license information please see matching-index.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{241:function(e,t,a){"use strict";a.r(t);var n=a(251),i=a.n(n),o=a(268),r=a.n(o),s=a(259),c={},l=a(31),d=a(32),u=a(254),h=a(252),p=a(253),f=a(255),m=a(275),g={},v=function(e){return Object(m.b)(g,e)},b=a(279),y=a(256),O=a(266),_=a(260),I=a(506),S=a.n(I),T=a(68),C=a(261),E=a(258),D=a(269),x=a(271),j=a(66),w=a(274),N=a.n(w),k=a(507),R=a.n(k),A=a(257),P=a.n(A),F=a(508),U=a.n(F),B=a(264),H=a(263),L=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e)),Object(f.a)(Object(y.a)(a),"MIN_FONT",9),a.updateValueStyle=a.updateValueStyle.bind(Object(y.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updateValueStyle()}},{key:"updateValueStyle",value:function(){if(this.refs.value){var e=this.refs.value.innerText,t=this.refs,a=t.value,n=t.hiddenWidthChecker,i=this.refs.value.parentNode;if(i){var o=a.style;if(e){for(var r=parseFloat(getComputedStyle(i).height),s=parseFloat(getComputedStyle(i).width)-6,c=e.split(" "),l=c[0],d=1;d<c.length;d++)c[d].length>l.length&&(l=c[d]);n.innerText=l;var u=n.getBoundingClientRect().width;o.removeProperty("font-size");var h=parseFloat(getComputedStyle(i).fontSize);for(o.paddingTop=0,o.paddingBottom=0;a.scrollHeight>r&&h>0||u>s;)if(n.style.fontSize=o.fontSize="".concat(h,"px"),h-=.5,u=n.getBoundingClientRect().width,h<=this.MIN_FONT){u>s&&(o.wordBreak="break-word"),a.scrollHeight>r&&i.style.setProperty("align-items","flex-start"),i.style.setProperty("overflow","hidden");break}this.fontSize=h,n.innerText="",this.top=(r-a.scrollHeight)/2,this.left=(s-a.scrollWidth)/2}else o.removeProperty("padding-top"),o.removeProperty("padding-bottom"),o.removeProperty("height"),o.removeProperty("font-size")}}}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.goFull,n=e.goFullText,o=e.showZoom,r=e.zoomFocus,s=e.zoomBlur,c=e.tabIndex,l=H.a.ZOOM_IN;return"object"===typeof t.value&&null!==t.value?i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{className:j.b?t.value.width/t.value.height>=1?U.a.imgWidth:U.a.imgHeight:null,"aria-hidden":!0,src:t.value.url,alt:t.altText,draggable:!1}),!j.d&&i.a.createElement("div",{className:P()(U.a.zoomPanel,o&&U.a.active)},i.a.createElement(B.b,{id:l,tabIndex:c,className:P()(B.a[l.split("_").join("-")],U.a.zoomIn),onFocus:r,onBlur:s,onKeyDown:function(e){e.which!==E.a.ENTER&&e.which!==E.a.SPACEBAR||(e.stopPropagation(),a(t.value.url))},onClick:function(e){e.stopPropagation(),a(t.value.url)},onMouseDown:function(e){e.stopPropagation(),a(t.value.url)}}))):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{ref:"hiddenWidthChecker",className:P()(U.a.widthChecker,U.a.centeredParagraph)}),i.a.createElement("p",{ref:"value","aria-hidden":!0,className:U.a.centeredParagraph},t.value),!j.d&&i.a.createElement("div",{className:P()(U.a.zoomPanel,o&&U.a.active)},i.a.createElement(B.b,{id:l,tabIndex:c,className:P()(B.a[l.split("_").join("-")],U.a.zoomIn),onFocus:r,onBlur:s,onKeyDown:function(e){e.which!==E.a.ENTER&&e.which!==E.a.SPACEBAR||(e.stopPropagation(),n(t.value))},onClick:function(e){e.stopPropagation(),n(t.value)},onMouseDown:function(e){e.stopPropagation(),n(t.value)}})))}}]),t}(n.Component),M=a(509),W=a.n(M),z=a(272),V=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e)),Object(f.a)(Object(y.a)(a),"initTouchPosition",null),Object(f.a)(Object(y.a)(a),"animation",""),a.onAnimationEnd=a.onAnimationEnd.bind(Object(y.a)(a)),a.onTouchStart=a.onTouchStart.bind(Object(y.a)(a)),a.onTouchEnd=a.onTouchEnd.bind(Object(y.a)(a)),a.showItem=a.showItem.bind(Object(y.a)(a)),a.state={animationInProgress:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"onAnimationEnd",value:function(){this.refs.contentContainer.classList.add("animation"),this.animation="",this.setState({animationInProgress:!1})}},{key:"onTouchStart",value:function(e){1===e.changedTouches.length&&(this.initTouchPosition=e.changedTouches[0].clientX,document.addEventListener("touchend",this.onTouchEnd))}},{key:"onTouchEnd",value:function(e){if(1===e.changedTouches.length){var t=this.initTouchPosition-e.changedTouches[0].clientX;Math.abs(t)>10&&(t<0?this.showItem("prev",z.a.BOUNCE_IN_LEFT):this.showItem("next",z.a.BOUNCE_IN_RIGHT)),document.removeEventListener("touchend",this.onTouchEnd),this.initTouchPosition=null}}},{key:"showItem",value:function(e,t){this.state.animationInProgress||(this.animation=t,this.props.showItem(e),this.setState({animationInProgress:!0}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.mainClassName,n=t.itemClassName,o=t.item,r=t.disabled,s=r?{}:{onTouchStart:this.onTouchStart};return i.a.createElement("div",Object.assign({},s,{className:P()(W.a.slider,a)}),i.a.createElement("div",{onAnimationEnd:this.onAnimationEnd,ref:"contentContainer",className:P()(W.a.contentContainer,!(o.value instanceof Object)&&W.a.textContainer,n,this.animation)},i.a.createElement(L,{content:o})),!r&&i.a.createElement(B.b,{onClick:function(){return e.showItem("prev",z.a.BOUNCE_IN_LEFT)},id:H.a.PREV,className:P()(B.a.prev,W.a.navButton,W.a.buttonPrev)}),!r&&i.a.createElement(B.b,{onClick:function(){return e.showItem("next",z.a.BOUNCE_IN_RIGHT)},id:H.a.NEXT,className:P()(B.a.next,W.a.navButton,W.a.buttonNext)}))}}]),t}(n.Component),K=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentMainItem,a=e.currentSubItem,n=e.showNextMainItem,o=e.showNextSubItem,r=e.makeGuess,s=e.mainStatus;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:R.a.matchContainer},i.a.createElement(V,{itemClassName:s===X.STATUS.WRONG?R.a.wrongSlider:"",mainClassName:s===X.STATUS.CORRECT?R.a.rightSlider:"",showItem:o,item:a}),i.a.createElement(V,{disabled:s===X.STATUS.CORRECT,itemClassName:s===X.STATUS.WRONG?R.a.wrongSlider:"",mainClassName:s===X.STATUS.CORRECT?R.a.rightSlider:"",showItem:n,item:t})),i.a.createElement("button",{disabled:s===X.STATUS.CORRECT,onClick:r,className:R.a.matchingButton},"Match"))}}]),t}(n.Component),G=a(510),Z=a.n(G),X=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e)),Object(f.a)(Object(y.a)(a),"shuffledArray",null),Object(f.a)(Object(y.a)(a),"shuffledZones",null);for(var n=[],i=0;i<e.items.length;i++)n[i]=t.STATUS.NONE;return a.selectZone=a.selectZone.bind(Object(y.a)(a)),a.getUnmatchedItems=a.getUnmatchedItems.bind(Object(y.a)(a)),a.showNextMainItem=a.showNextMainItem.bind(Object(y.a)(a)),a.showNextSubItem=a.showNextSubItem.bind(Object(y.a)(a)),a.handleAnswer=a.handleAnswer.bind(Object(y.a)(a)),a.state={status:n,mainIndex:0,subIndex:0},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"restartActivity",value:function(){for(var e=[],a=0;a<this.props.items.length;a++)e[a]=t.STATUS.NONE;this.shuffledZones=null,this.shuffledArray=null,this.setState({status:e,mainIndex:0,subIndex:0})}},{key:"completeActivity",value:function(){for(var e=[],a=0;a<this.props.items.length;a++)e[a]=t.STATUS.CORRECT;this.setState({status:e})}},{key:"handleAnswer",value:function(){var e=this.state,a=e.mainIndex,n=e.subIndex,i=e.status,o=this.props,r=o.handleCorrectDrop,s=o.handleIncorrectDrop,c=this.getUnmatchedItems(this.shuffledZones)[a];this.shuffledArray[n].id===c.id?(r(n),i[n]=t.STATUS.CORRECT,this.setState({status:i})):(s(n),i[n]=t.STATUS.WRONG,this.setState({status:i}))}},{key:"getUnmatchedItems",value:function(e){for(var a=[],n=0;n<e.length;n++){var i=this.shuffledArray.indexOf(e[n]);this.state.status[i]!==t.STATUS.CORRECT&&a.push(e[n])}return a}},{key:"showNextMainItem",value:function(e){var a=this.state,n=a.status,i=a.mainIndex,o=a.subIndex,r=this.getUnmatchedItems(this.shuffledZones),s="prev"===e?i-1>=0?i-1:r.length-1:i+1<r.length?i+1:0;n[o]===t.STATUS.WRONG&&(n[o]=t.STATUS.NONE),this.setState({mainIndex:s,status:n})}},{key:"showNextSubItem",value:function(e){var a=this.state,n=a.mainIndex,i=a.status,o=a.subIndex,r=this.props.items,s=i[o]===t.STATUS.CORRECT,c="prev"===e?o-1>=0?o-1:this.shuffledArray.length-1:o+1<this.shuffledArray.length?o+1:0,l=-1;i[o]===t.STATUS.WRONG&&(i[o]=t.STATUS.NONE),l=i[c]!==t.STATUS.CORRECT?0:this.shuffledZones.indexOf(r[c]),this.setState({mainIndex:s?l:i[c]!==t.STATUS.CORRECT?n:l,subIndex:c})}},{key:"selectZone",value:function(e){this.props.togglePreviewButton(),this.setState({mainIndex:e})}},{key:"render",value:function(){var e=this.state,a=e.mainIndex,n=e.subIndex,o=e.status,r=this.props.items;this.shuffledArray||(this.shuffledArray=ye.getFilteredItems(N()(r))),this.shuffledZones||(this.shuffledZones=N()(r));var s=this.getUnmatchedItems(this.shuffledZones);return i.a.createElement("div",{className:Z.a.mobile},i.a.createElement(K,{makeGuess:this.handleAnswer,showNextMainItem:this.showNextMainItem,showNextSubItem:this.showNextSubItem,currentMainItem:o[n]===t.STATUS.CORRECT?this.shuffledArray[n].zone:s[a].zone,currentSubItem:this.shuffledArray[n].item,mainStatus:o[n]}))}}]),t}(n.Component);Object(f.a)(X,"STATUS",{CORRECT:"correct",WRONG:"wrong",NONE:"none"});var Y,q,J,Q,$,ee,te=a(395),ae=a(511),ne=a.n(ae),ie=a(512),oe=a.n(ie),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).containerRef=i.a.createRef(),a.flipCard=a.flipCard.bind(Object(y.a)(a)),a.animationEndHandler=a.animationEndHandler.bind(Object(y.a)(a)),a.mouseOverHandler=a.mouseOverHandler.bind(Object(y.a)(a)),a.mouseOutHandler=a.mouseOutHandler.bind(Object(y.a)(a)),a.state={showZoom:!1,showFrontSide:!0,animationInProgress:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"animationEndHandler",value:function(){this.setState({animationInProgress:!1})}},{key:"showBackSide",value:function(){this.setState({animationInProgress:!0,showFrontSide:!1})}},{key:"flipCard",value:function(){var e=this.props,t=e.onClick,a=e.backSide,n=this.state,i=n.showFrontSide,o=n.animationInProgress;a&&!o&&(o||(this.props.cardFlipped(),this.setState({animationInProgress:!0,showFrontSide:!i}))),t&&t()}},{key:"mouseOverHandler",value:function(){this.state.animationInProgress||this.setState({showZoom:!0})}},{key:"mouseOutHandler",value:function(){this.state.animationInProgress||this.setState({showZoom:!1})}},{key:"render",value:function(){var e=this.props,t=e.backSide,a=e.frontSide,n=e.fullScreen,o=e.goFull,r=e.goFullText,s=e.selected,c=e.tabIndex,l=this.state,d=l.showFrontSide,u=l.animationInProgress,h=l.showZoom,p=j.d?{}:{onMouseOver:this.mouseOverHandler,onMouseOut:this.mouseOutHandler};return i.a.createElement("div",Object.assign({ref:this.containerRef,className:P()(oe.a.cardWrapper,oe.a.background,u&&z.a.FLIP_IN_Y,s&&oe.a.selectedCard),onAnimationEnd:this.animationEndHandler,onClick:this.flipCard},p),i.a.createElement(L,{zoomFocus:this.mouseOverHandler,zoomBlur:this.mouseOutHandler,showZoom:h,goFull:o,goFullText:r,fullScreen:n,tabIndex:c,content:!d&&t?t:a}))}}]),t}(n.Component),se=a(302),ce=a(267),le=a.n(ce),de=(Y=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(u.a)(this,Object(h.a)(t).call(this,e)),Object(f.a)(Object(y.a)(a),"dragArray",[]),Object(f.a)(Object(y.a)(a),"filledDropArray",[]),Object(f.a)(Object(y.a)(a),"dropCardRefs",[]),Object(f.a)(Object(y.a)(a),"shuffledArray",null),Object(f.a)(Object(y.a)(a),"shuffledZones",null),a.handleDrop=a.handleDrop.bind(Object(y.a)(a)),a.dndRef=i.a.createRef(),a.goFull=a.goFull.bind(Object(y.a)(a)),a.handleKeydown=a.handleKeydown.bind(Object(y.a)(a)),a.zoomOut=a.zoomOut.bind(Object(y.a)(a)),a.onDropKeyDown=a.onDropKeyDown.bind(Object(y.a)(a)),a.onViewKeyDown=a.onViewKeyDown.bind(Object(y.a)(a)),a.onViewFocus=a.onViewFocus.bind(Object(y.a)(a)),a.completeActivity=a.completeActivity.bind(Object(y.a)(a)),a.state={fullScreen:-1,fullScreenText:-1,focusLoop:!0,selectedIndex:-1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.refs.viewBody.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){this.refs.viewBody.removeEventListener("keydown",this.handleKeydown)}},{key:"componentDidUpdate",value:function(){var e=null;this.focusTargets?e=this.refs.targets.querySelector("[role='button'][tabindex='0']"):this.focusItems&&(e=this.refs.items.querySelector("[role='button']")),e&&e.focus(),this.focusTargets=!1,this.focusItems=!1}},{key:"handleKeydown",value:function(e){switch(e.keyCode){case E.a.ESC:var t=this.state,a=t.fullScreen,n=t.fullScreenText;-1!==a||-1!==n?this.setState({fullScreen:-1,fullScreenText:-1}):(this.dndRef.current.moveToInitialPosition(),this.focusTargets=!1,this.focusItems=!0,this.setState({selectedIndex:-1}))}}},{key:"onViewFocus",value:function(e){this.refs.viewBody.contains(e.target)||this.state.focusLoop||this.setState({focusLoop:!0})}},{key:"onViewKeyDown",value:function(e){e.keyCode===E.a.TAB&&this.state.focusLoop?Object(se.a)(e):e.altKey&&e.keyCode===E.a.Q&&this.setState({focusLoop:!1})}},{key:"onDropKeyDown",value:function(e,t){this.filledDropArray.indexOf(e)>-1&&(t.keyCode!==E.a.ENTER&&t.keyCode!==E.a.SPACEBAR||(t.preventDefault(),this.props.announceFlip(),this.dropCardRefs[e].flipCard()))}},{key:"restartActivity",value:function(){this.dragArray=[],this.filledDropArray=[],this.shuffledArray=null,this.shuffledZones=null,this.dndRef.current.resetDranAndDrop(),this.setState({fullScreen:-1,selectedIndex:-1,focusLoop:!0})}},{key:"completeActivity",value:function(){var e=this;this.dndRef.current.fillDragAndDrop();for(var t=function(t){var a=e.props.items[t].item.value;if(("object"===typeof a&&""!==a||"object"!==a&&null!==a&&""!==a)&&e.filledDropArray.indexOf(t)<0){var n=e.dragArray.indexOf(e.dragArray.filter((function(a){return a===e.props.items[t].id}))[0]);e.dndRef.current.createMatch(n,t),e.dropCardRefs[t].showBackSide(),e.filledDropArray.push(t)}},a=0;a<this.props.items.length;a++)t(a)}},{key:"dragSelected",value:function(e){this.focusTargets=!0,this.focusItems=!1,this.setState({selectedIndex:e})}},{key:"handleDrop",value:function(e,t){var a=this.props,n=a.handleCorrectDrop,i=a.handleIncorrectDrop,o=this.dragArray[e],r=this.shuffledZones[t];r&&r.id===o?(this.dndRef.current.moveToDropPosition(),this.dndRef.current.createMatch(e,t),this.dropCardRefs[t].showBackSide(),this.filledDropArray.push(t),n(e),this.focusTargets=!1,this.focusItems=!0,this.setState({selectedIndex:-1})):(this.dndRef.current.state.keyBoardSelected||(this.dndRef.current.moveToInitialPosition(),this.setState({selectedIndex:-1})),i(e))}},{key:"zoomOut",value:function(){this.setState({fullScreen:-1,fullScreenText:-1})}},{key:"goFull",value:function(e){this.setState({fullScreen:e})}},{key:"goFullText",value:function(e){this.setState({fullScreenText:e})}},{key:"getDragsAndDrops",value:function(){var e=this,t=this.state,a=t.fullScreen,n=t.fullScreenText,o=t.selectedIndex;return{items:this.shuffledArray.map((function(t,a){return e.dragArray.indexOf(t.id)<0&&e.dragArray.push(t.id),i.a.createElement(re,{selected:o===a,tabIndex:-1===o?0:-1,goFull:e.goFull,goFullText:e.goFullText,key:"dragCard"+a,frontSide:t.item})})),targets:this.shuffledZones.map((function(t,r){return i.a.createElement(re,{ref:function(t){-1===e.dropCardRefs.indexOf(t)&&e.dropCardRefs.push(t)},tabIndex:o>-1&&-1===e.filledDropArray.indexOf(r)||-1===o&&e.filledDropArray.indexOf(r)>-1?0:-1,cardFlipped:e.props.announceFlip,goFull:e.goFull,goFullText:e.goFullText,key:"dropCard"+r,fullScreen:r===a||r===n,backSide:e.filledDropArray.indexOf(r)>-1&&t.item,frontSide:t.zone})}))}}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.playerSelector,n=e.activityId,o=ne.a.items+n,r=ne.a.targets+n,s=this.state,c=s.fullScreen,l=s.fullScreenText;this.shuffledArray||(this.shuffledArray=ye.getFilteredItems(N()(t))),this.shuffledZones||(this.shuffledZones=N()(t));var d="";return t.length>=1&&t.length<=2?d=ne.a.onetwotargets:t.length>=3&&t.length<=4?d=ne.a.threefourtargets:t.length>=5&&t.length<=6?d=ne.a.fivesixtargets:t.length>=7&&t.length<=9&&(d=ne.a.sevenninetargets),i.a.createElement("div",{className:ne.a.desktop,onKeyDown:this.onViewKeyDown,onFocus:this.onViewFocus,ref:"viewBody"},i.a.createElement("div",{ref:"items",id:o,className:ne.a.items}),i.a.createElement("div",{ref:"targets",id:r,className:P()(ne.a.targets,d)}),i.a.createElement(te.a,Object.assign({dragLabels:ye.getFilteredItems(this.shuffledArray).map((function(e){return e.item.altText||e.item.value})),activityId:n,dropLabels:this.shuffledZones.map((function(e){return e.zone.altText||e.zone.value})),onDropKeyDown:this.onDropKeyDown,ref:this.dndRef,parentSelector:a,handleDrop:this.handleDrop,dragSelected:this.dragSelected,dragContainerSelector:"#"+o,dropContainerSelector:"#"+r},this.getDragsAndDrops())),i.a.createElement("div",{onClick:this.zoomOut,style:{display:-1!==c||-1!==l?"flex":"none"},className:ne.a.zommedImage},-1!==c?i.a.createElement("img",{src:c,alt:""}):null,-1!==l?i.a.createElement("p",{className:ne.a.bigText},l):null))}}]),t}(n.Component),Object(O.a)(Y.prototype,"dragSelected",[le.a],Object.getOwnPropertyDescriptor(Y.prototype,"dragSelected"),Y.prototype),Object(O.a)(Y.prototype,"goFullText",[le.a],Object.getOwnPropertyDescriptor(Y.prototype,"goFullText"),Y.prototype),Y),ue=a(513),he=a.n(ue),pe=a(315),fe=a(273),me=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.complete,a=e.showRestart;return i.a.createElement("div",{className:he.a.container},i.a.createElement("div",{className:he.a.navigation},!j.d&&i.a.createElement(fe.a,{excludeItems:a?null:{restart:!0}})),i.a.createElement("div",{className:he.a.score},i.a.createElement(pe.a,{complete:t,displayedScore:this.props.displayedScore,totalScore:this.props.totalScore})),i.a.createElement("div",{className:he.a.buttons},i.a.createElement(B.b,{id:H.a.COMPLETE_ACTIVITY,disabled:this.props.complete,className:B.a["complete-activity"],onFocus:this.props.onButtonFocus,onClick:this.props.completeActivity,hint:!0}),this.props.showRestart&&i.a.createElement(B.b,{id:H.a.RESTART,className:B.a.restart,onFocus:this.props.onButtonFocus,onClick:this.props.restart,hint:!0})))}}]),t}(n.PureComponent),ge=a(282),ve=a(48),be=a(49),ye=Object(s.b)((function(e){return Object(_.a)({},e,{activityId:e.id,activityType:e.type,activityName:e.name,finalResponse:"Completed!"})}),v)(q=Object(C.a)("Activity")((J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(i))),Object(f.a)(Object(y.a)(a),"state",{disablePreview:!1,displayedScore:0,completedItems:0,complete:!1,ariaText:""}),Object(f.a)(Object(y.a)(a),"errors",[]),Object(f.a)(Object(y.a)(a),"onActivityKeyDown",(function(e){switch(e.keyCode){case E.a.S:e.altKey&&a.completeActivity();break;case E.a.R:e.altKey&&a.restart()}})),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"fillStorage",value:function(e){var t=this.props,a=t.activityId,n=t.activityType;if(e==="".concat(n,"-").concat(a)){var i=null;sessionStorage&&(i=JSON.parse(sessionStorage.getItem("".concat(n,"-").concat(a)))),i&&i.hasOwnProperty("pointsEarned")&&i.hasOwnProperty("isRestart")&&!1===i.isRestart&&this.setState({displayedScore:i.pointsEarned,complete:!0},this.viewRef.completeActivity)}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.activityId,a=e.activityType;this.fillStorage("".concat(a,"-").concat(t)),ve.a.on(be.a.LOAD_STORAGE,this.fillStorage)}},{key:"handleIncorrectDrop",value:function(e){var t=this.props.playFeedbackSounds;this.errors[e]++,t&&ge.a.playWrong(),this.setState({ariaText:this.locale.incorrect})}},{key:"handleCorrectDrop",value:function(e){var a=this.props,n=a.activityId,i=a.activityType,o=a.score,r=a.items,s=a.playFeedbackSounds,c=this.errors,l=o/t.getFilteredItems(r).length,d=this.state,u=d.displayedScore,h=d.completedItems;c[e]>0?u+=0:u+=l,h+1===t.getFilteredItems(r).length&&Object(T.b)({id:n,type:i,pointsEarned:u,maxValue:o,isRestart:!1}),s&&ge.a.playCorrect(),this.setState({displayedScore:u,completedItems:h+1,ariaText:this.locale.correct,complete:h+1===t.getFilteredItems(r).length})}},{key:"restart",value:function(){var e=this.props,t=e.activityId,a=e.activityType,n=e.score;Object(T.b)({id:t,type:a,pointsEarned:0,maxValue:n,isRestart:!0}),this.viewRef.restartActivity(),this.errors=[],this.setState({displayedScore:0,completedItems:0,complete:!1})}},{key:"completeActivity",value:function(){var e=this.props,a=e.activityId,n=e.activityType,i=e.score,o=e.items,r=this.state.displayedScore;this.viewRef.completeActivity(),Object(T.b)({id:a,type:n,pointsEarned:r,maxValue:i,isRestart:!1}),this.setState({completedItems:t.getFilteredItems(o).length,complete:!0})}},{key:"announceFlip",value:function(){this.setState({ariaText:this.locale.flip})}},{key:"render",value:function(){var e=this,t=this.props,a=t.studentInstruction,n=t.activityName,o=t.activityId,r=t.showRestart,s=t.score,c=t.items,l=t.finalResponse,d=S.a.player+o,u=this.state,h=u.ariaText,p=u.displayedScore,f=u.complete,m=Object(_.a)({},this.props,{playerSelector:"#"+d,handleCorrectDrop:this.handleCorrectDrop.bind(this),handleIncorrectDrop:this.handleIncorrectDrop.bind(this),announceFlip:this.announceFlip.bind(this),ref:function(t){e.viewRef=t}});if(0===this.errors.length)for(var g=0;g<c.length;g++)this.errors[g]=0;return i.a.createElement("section",{role:"application",tabIndex:"0",className:S.a.container,onKeyDown:this.onActivityKeyDown},i.a.createElement(D.a,{ariaText:h}),i.a.createElement(x.a,{activityName:n,studentInstruction:a}),i.a.createElement("div",{id:d,className:S.a.player},i.a.createElement(me,{completeActivity:this.completeActivity.bind(this),restart:this.restart.bind(this),complete:f,totalScore:s,displayedScore:parseFloat(p.toFixed(1)),showRestart:r,onButtonFocus:function(){}}),i.a.createElement("div",{className:S.a.response},f&&i.a.createElement("span",null,l)),j.d?i.a.createElement(X,m):i.a.createElement(de,m)))}}],[{key:"isValueNotEmpty",value:function(e){return"object"===typeof e.value&&null!==e.value&&""!==e.value.url||"object"!==typeof e.value&&""!==e.value}},{key:"getFilteredItems",value:function(e){return e.filter((function(e){return"object"===typeof e.item.value&&null!==e.item.value&&""!==e.item.value.url||"object"!==typeof e.item.value&&""!==e.item.value}))}}]),t}(n.PureComponent),Object(O.a)(J.prototype,"fillStorage",[le.a],Object.getOwnPropertyDescriptor(J.prototype,"fillStorage"),J.prototype),q=J))||q)||q,Oe=Object(s.b)((function(e){return{displayMode:e.displayMode,displaySetting:e.displaySetting,displayIconImage:e.displayIconImage,activityName:e.name,activityType:e.type}}),v)((ee=$=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"activity",get:function(){return i.a.createElement(ye,{activityAlign:this.activityAlign})}}]),t}(b.a),Object(f.a)($,"propTypes",b.a.propTypes),Q=ee))||Q,_e=a(280),Ie=a(277);a.d(t,"bootstrap",(function(){return Se}));var Se=function(e,t,a){var n,o=_e.a.createStore((n=t,Object(_.a)({},n)),c);r.a.render(i.a.createElement(s.a,{store:o},i.a.createElement(Ie.a.Provider,{value:a.matching},i.a.createElement(Oe,null))),e)}},269:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(31),i=a(32),o=a(254),r=a(252),s=a(256),c=a(253),l=a(255),d=a(251),u=a.n(d),h=a(294),p=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return a=Object(o.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c))),Object(l.a)(Object(s.a)(a),"state",{text:a.props.ariaText}),a}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.ariaText;this.setState({text:t!==this.state.text?t:t===t.trim()?"".concat(t," "):t.trim()})}},{key:"render",value:function(){var e=this.state.text;return u.a.createElement(h.a,null,u.a.createElement(h.b,{message:e,"aria-live":"polite",clearOnUnmount:!0}))}}]),t}(d.PureComponent)},270:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"List_container__2C2q_",top:"List_top__2FRj6",bottom:"List_bottom__3XqE_",item:"List_item__2gTLg",action:"List_action__2eo5L",code:"List_code__16xAB",key:"List_key__1-I_n"}},271:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(31),i=a(32),o=a(254),r=a(252),s=a(253),c=a(276),l=a.n(c),d=a(251),u=a.n(d),h=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activityName,a=e.studentInstruction;return u.a.createElement("div",{className:l.a.container},u.a.createElement("h1",{className:l.a.name},t),u.a.createElement("p",{className:l.a.instruction},a))}}]),t}(d.PureComponent)},272:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n={BOUNCE:"animated bounce",BOUNCE_OUT:"animated bounceOut",BOUNCE_OUT_UP:"animated bounceOutUp",BOUNCE_OUT_DOWN:"animated bounceOutDown",BOUNCE_OUT_LEFT:"animated bounceOutLeft",BOUNCE_OUT_RIGHT:"animated bounceOutRight",BOUNCE_IN:"animated bounceIn",BOUNCE_IN_UP:"animated bounceInUp",BOUNCE_IN_DOWN:"animated bounceInDown",BOUNCE_IN_LEFT:"animated bounceInLeft",BOUNCE_IN_RIGHT:"animated bounceInRight",FADE_IN:"animated fadeIn",FADE_IN_DOWN:"animated fadeInDown",FADE_IN_DOWN_BIG:"animated fadeInDownBig",FADE_IN_LEFT:"animated fadeInLeft",FADE_IN_LEFT_BIG:"animated fadeInLeftBig",FADE_IN_RIGHT:"animated fadeInRight",FADE_IN_RIGHT_BIG:"animated fadeInRightBig",FADE_IN_UP:"animated fadeInUp",FADE_IN_UP_BIG:"animated fadeInUpBig",FADE_OUT:"animated fadeOut",FADE_OUT_DOWN:"animated fadeOutDown",FADE_OUT_DOWN_BIG:"animated fadeOutDownBig",FADE_OUT_LEFT:"animated fadeOutLeft",FADE_OUT_LEFT_BIG:"animated fadeOutLeftBig",FADE_OUT_RIGHT:"animated fadeOutRight",FADE_OUT_RIGHT_BIG:"animated fadeOutRightBig",FADE_OUT_UP:"animated fadeOutUp",FADE_OUT_UP_BIG:"animated fadeOutUpBig",FLIP:"animated flip",FLIP_IN_X:"animated flipInX",FLIP_IN_Y:"animated flipInY",FLIP_OUT_X:"animated flipOutX",FLIP_OUT_Y:"animated flipOutY",LIGHT_SPEED_IN:"animated lightSpeedIn",LIGHT_SPEED_OUT:"animated lightSpeedOut",ROTATE_IN:"animated rotateIn",ROTATE_IN_DOWN_LEFT:"animated rotateInDownLeft",ROTATE_IN_DOWN_RIGHT:"animated rotateInDownRight",ROTATE_IN_UP_LEFT:"animated rotateInUpLeft",ROTATE_IN_UP_RIGHT:"animated rotateInUpRight",ROTATE_OUT:"animated rotateOut",ROTATE_OUT_DOWN_LEFT:"animated rotateOutDownLeft",ROTATE_OUT_DOWN_RIGHT:"animated rotateOutDownRight",ROTATE_OUT_UP_LEFT:"animated rotateOutUpLeft",ROTATE_OUT_UP_RIGHT:"animated rotateOutUpRight",ROLL_IN:"animated rollIn",ROLL_OUT:"animated rollOut",ZOOM_IN:"animated zoomIn",ZOOM_IN_RIGHT:"animated zoomInRight",ZOOM_IN_LEFT:"animated zoomInLeft",ZOOM_IN_DOWN:"animated zoomInDown",ZOOM_IN_UP:"animated zoomInUp",ZOOM_OUT:"animated zoomOut",ZOOM_OUT_RIGHT:"animated zoomOutRight",ZOOM_OUT_LEFT:"animated zoomOutLeft",ZOOM_OUT_DOWN:"animated zoomOutDown",ZOOM_OUT_UP:"animated zoomOutUp",SLIDE_IN_UP:"animated slideInUp",SLIDE_IN_DOWN:"animated slideInDown",SLIDE_IN_LEFT:"animated slideInLeft",SLIDE_IN_RIGHT:"animated slideInRight",SLIDE_OUT_UP:"animated slideOutUp",SLIDE_OUT_DOWN:"animated slideOutDown",SLIDE_OUT_LEFT:"animated slideOutLeft",SLIDE_OUT_RIGHT:"animated slideOutRight",FLASH:"animated flash",PULSE:"animated pulse",TADA:"animated tada",RUBBER_BAND:"animated rubberBand",HEART_BEAT:"animated heartBeat",WOBBLE:"animated wobble",JELLO:"animated jello",HINGE:"animated hinge",JACK_IN_THE_BOX:"animated jackInTheBox"},i={SHAKE:"animated shake",SWING:"animated swing"}},273:function(e,t,a){"use strict";var n,i,o,r=a(31),s=a(32),c=a(254),l=a(252),d=a(256),u=a(253),h=a(255),p=a(281),f=a.n(p),m=a(251),g=a.n(m),v=a(257),b=a.n(v),y=a(261),O=a(263),_=a(272),I=a(265),S=a(258),T=a(264),C=a(270),E=a.n(C),D=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getListItem",value:function(e,t){var a=this.props.onKeyDown,n=e.key?E.a.key:E.a.code,i=e.key?e.key:e.code;return g.a.createElement("li",{key:t,tabIndex:"0","aria-label":e.description,className:E.a.item,onKeyDown:function(e){a(t,e)}},g.a.createElement("span",{className:E.a.action},e.action),g.a.createElement("span",{className:n},i))}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.items;return g.a.createElement("ul",{className:b()(E.a.container,a)},n.map((function(t,a){return e.getListItem(t,a)})))}}]),t}(m.PureComponent),x=Object(y.a)("Shortcuts")((o=i=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i))),Object(h.a)(Object(d.a)(a),"state",{listClass:I.a.HIDDEN,listExpanded:!1}),Object(h.a)(Object(d.a)(a),"onButtonClick",(function(){a.state.listExpanded?a.hide():a.show()})),Object(h.a)(Object(d.a)(a),"onButtonKeyDown",(function(e){e.keyCode===S.a.TAB&&e.shiftKey&&a.hide()})),Object(h.a)(Object(d.a)(a),"onBlur",(function(e){a.refs.container.contains(e.relatedTarget)||a.hide()})),Object(h.a)(Object(d.a)(a),"onListKeyDown",(function(e,t){t.keyCode===S.a.TAB&&(t.shiftKey||e!==a.listItems.length-1||a.hide())})),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.refs.container.addEventListener("focusout",this.onBlur)}},{key:"show",value:function(){this.setState({listClass:_.a.FADE_IN,listExpanded:!0})}},{key:"hide",value:function(){this.setState({listClass:I.a.HIDDEN,listExpanded:!1})}},{key:"render",value:function(){var e=this.state,t=e.listClass,a=e.listExpanded,n=this.props,i=n.listPosition,o=n.className;return g.a.createElement("div",{ref:"container",className:b()(f.a.container,o)},g.a.createElement(T.b,{id:O.a.NAVIGATION,className:T.a.navigation,onClick:this.onButtonClick,onKeyDown:this.onButtonKeyDown,hint:!0,ariaExpanded:a}),g.a.createElement(D,{items:this.listItems,className:b()(t,E.a[i]),onKeyDown:this.onListKeyDown}))}},{key:"listItems",get:function(){var e=this.props.excludeItems;return e?Object.values(this.locale).filter((function(t){return!e[t.action]})):Object.values(this.locale)}}]),t}(m.PureComponent),Object(h.a)(i,"defaultProps",{excludeItems:null,listPosition:"bottom"}),n=o))||n;t.a=x},274:function(e,t,a){var n=a(299),i=a(301),o=a(67);e.exports=function(e){return(o(e)?n:i)(e)}},276:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"ActivityHeader_container__2BY61",name:"ActivityHeader_name__YEP5r",instruction:"ActivityHeader_instruction__3zNU4"}},278:function(e,t,a){var n=a(113),i=a(295),o=a(51);e.exports=function(e){return o(e)?n(e):i(e)}},281:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"ShortcutsButton_container__2YuDO"}},282:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(31),i=a(32),o=a(314),r=a(289),s=a.n(r),c=a(290),l=a.n(c),d=new(function(){function e(){Object(n.a)(this,e),this.correct=new o.Howl({src:[s.a]}),this.wrong=new o.Howl({src:[l.a]})}return Object(i.a)(e,[{key:"playCorrect",value:function(){var e=this;this.stop(),"unloaded"===this.correct.state()?(this.correct.on("load",(function(){e.correct=new o.Howl({src:[s.a]}),e.correct.play()})),this.correct.load()):this.correct.play()}},{key:"playWrong",value:function(){var e=this;this.stop(),"unloaded"===this.wrong.state()?(this.wrong.on("load",(function(){e.wrong=new o.Howl({src:[l.a]}),e.wrong.play()})),this.wrong.load()):this.wrong.play()}},{key:"stop",value:function(){this.correct.playing()&&this.correct.stop(),this.wrong.playing()&&this.wrong.stop()}}]),e}())},283:function(e,t,a){var n=a(300);e.exports=function(e,t){var a=-1,i=e.length,o=i-1;for(t=void 0===t?i:t;++a<t;){var r=n(a,o),s=e[r];e[r]=e[a],e[a]=s}return e.length=t,e}},289:function(e,t,a){e.exports=a.p+"static/media/correct.mp3"},290:function(e,t,a){e.exports=a.p+"static/media/wrong.mp3"},292:function(e,t,a){var n=a(297),i=a(278);e.exports=function(e){return null==e?[]:n(e,i(e))}},295:function(e,t,a){var n=a(69),i=a(296),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var a in Object(e))o.call(e,a)&&"constructor"!=a&&t.push(a);return t}},296:function(e,t,a){var n=a(112)(Object.keys,Object);e.exports=n},297:function(e,t,a){var n=a(298);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},298:function(e,t){e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length,i=Array(n);++a<n;)i[a]=t(e[a],a,e);return i}},299:function(e,t,a){var n=a(111),i=a(283);e.exports=function(e){return i(n(e))}},300:function(e,t){var a=Math.floor,n=Math.random;e.exports=function(e,t){return e+a(n()*(t-e+1))}},301:function(e,t,a){var n=a(283),i=a(292);e.exports=function(e){return n(i(e))}},302:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(7),i=function(e){var t=function(e){var t=n.c.join(",");return Array.from(e.querySelectorAll(t)).filter((function(e){return e.getBBox?e.getBBox().width||e.getBBox().height:!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}(e.currentTarget);if(t.length){var a=t.indexOf(document.activeElement);e.shiftKey&&0===a?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||a!==t.length-1||(t[0].focus(),e.preventDefault())}}},315:function(e,t,a){"use strict";var n,i=a(31),o=a(32),r=a(254),s=a(252),c=a(256),l=a(253),d=a(255),u=a(316),h=a.n(u),p=a(251),f=a.n(p),m=a(261),g=a(269),v=Object(m.a)("Score")(n=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o))),Object(d.a)(Object(c.a)(a),"displayedScore",0),Object(d.a)(Object(c.a)(a),"ariaText",""),a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.totalScore,a=e.displayedScore;t&&a!==this.displayedScore&&(this.displayedScore=a,this.ariaText="".concat(this.locale.your_score," ").concat(this.displayedScore," ").concat(this.locale.out_of," ").concat(t))}},{key:"render",value:function(){var e=this.props,t=e.totalScore,a=e.complete;return t?f.a.createElement("div",{className:h.a.container},f.a.createElement(g.a,{ariaText:"".concat(this.ariaText,". ").concat(a?this.locale.complete_message:"")}),f.a.createElement("span",{className:h.a.current},this.displayedScore),"\xa0 / \xa0",f.a.createElement("span",{className:h.a.total},t)):null}}]),t}(p.PureComponent))||n;t.a=v},316:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Score_container__2hyNk",current:"Score_current__1HHvw",total:"Score_total__1eQ9Z"}},377:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",drag:"Drag_drag__lnffN",transition:"Drag_transition__3OV0u",placeholder:"Drag_placeholder__2Deg4",dragging:"Drag_dragging__2Hv-V"}},378:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",activeDrop:"Drop_activeDrop__2o3R6",targetWrapper:"Drop_targetWrapper__3wsld",disabled:"Drop_disabled__1lxHh"}},395:function(e,t,a){"use strict";var n,i,o,r=a(31),s=a(32),c=a(254),l=a(252),d=a(256),u=a(253),h=a(255),p=a(266),f=a(251),m=a.n(f),g=a(268),v=a.n(g),b=a(257),y=a.n(b),O=a(377),_=a.n(O),I=a(258),S=a(261),T=a(265),C=Object(S.a)("Drag")(n=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).mouseDownHandler=a.mouseDownHandler.bind(Object(d.a)(a)),a.keyDownHandler=a.keyDownHandler.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"mouseDownHandler",value:function(e){var t=this.props,a=t.mouseDown,n=t.index;e.preventDefault(),a(e,n)}},{key:"keyDownHandler",value:function(e){switch(e.keyCode){case I.a.SPACEBAR:case I.a.ENTER:var t=this.props,a=t.index,n=t.dragSelected;e.preventDefault(),n(a)}}},{key:"render",value:function(){var e=this.props,t=e.detached,a=e.transitionInProgress,n=e.children,i=e.top,o=e.left,r=e.transitionEnd,s=e.disabled,c=e.focusable,l=e.ariaLabel,d=e.grabbed,u=e.index,h=e.dragClass,p=e.activityId,f=e.placeholderClassName,g={top:i,left:o},v=this.locale||{},b=v.label,O=v.description;return!s&&m.a.createElement(m.a.Fragment,null,t&&m.a.createElement("div",{className:"".concat(_.a.placeholder," ").concat(f)}),m.a.createElement("div",{ref:"containerRef",role:"button","aria-grabbed":d,"aria-label":"".concat(b," ").concat(l),"aria-describedby":"".concat(_.a.drag).concat(u).concat(p,"__description"),tabIndex:c?0:-1,onTransitionEnd:r,className:y()(_.a.drag,a&&_.a.transition,t&&_.a.dragging,h),style:t?g:null,onMouseDown:this.mouseDownHandler,onKeyDown:this.keyDownHandler},m.a.createElement("span",{id:"".concat(_.a.drag).concat(u).concat(p,"__description"),className:T.a.VISUALLY_HIDDEN},O),n))}}]),t}(f.Component))||n,E=a(378),D=a.n(E),x=Object(S.a)("Drop")(i=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).containerRef=m.a.createRef(),a.keyDownHandler=a.keyDownHandler.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"keyDownHandler",value:function(e){var t=this.props,a=t.onDropKeyDown,n=t.index;switch(e.keyCode){case I.a.SPACEBAR:case I.a.ENTER:var i=this.props,o=i.index,r=i.dropSelected;e.preventDefault(),r(o)}a&&a(n,e)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.active,n=e.disabled,i=e.focusable,o=e.ariaLabel,r=e.index,s=e.dropClass,c=e.activeDropClass,l=e.activityId,d=(this.locale||{}).description;return m.a.createElement("div",{role:"button","aria-label":o,"aria-describedby":"".concat(D.a.targetWrapper).concat(r).concat(l,"__description"),"aria-dropeffect":"move",tabIndex:i?0:-1,className:y()(s,D.a.targetWrapper,n&&D.a.disabled),onKeyDown:this.keyDownHandler,ref:this.containerRef},m.a.createElement("span",{className:T.a.VISUALLY_HIDDEN,id:"".concat(D.a.targetWrapper).concat(r).concat(l,"__description")},n?this.locale.disabled:d),t,a&&m.a.createElement("div",{"aria-hidden":!0,className:y()(D.a.activeDrop,c)}))}}]),t}(f.Component))||i,j=a(267),w=a.n(j);a.d(t,"a",(function(){return N}));var N=(o=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(c.a)(this,Object(l.a)(t).call(this,e)),Object(h.a)(Object(d.a)(a),"dragIndex",-1),Object(h.a)(Object(d.a)(a),"dropIndex",-1),Object(h.a)(Object(d.a)(a),"dragToDisable",-1),Object(h.a)(Object(d.a)(a),"dragWidth",100),Object(h.a)(Object(d.a)(a),"dragHeight",80),Object(h.a)(Object(d.a)(a),"initPosition",null),Object(h.a)(Object(d.a)(a),"parentNode",null),Object(h.a)(Object(d.a)(a),"cursorIndent",null),Object(h.a)(Object(d.a)(a),"dragRefs",[]),Object(h.a)(Object(d.a)(a),"dropRefs",[]),Object(h.a)(Object(d.a)(a),"dragClosestRelativeParent",null),a.mouseMoveHandler=a.mouseMoveHandler.bind(Object(d.a)(a)),a.mouseDownHandler=a.mouseDownHandler.bind(Object(d.a)(a)),a.mouseUpHandler=a.mouseUpHandler.bind(Object(d.a)(a)),a.transitionEndHandler=a.transitionEndHandler.bind(Object(d.a)(a)),a.findDrop=a.findDrop.bind(Object(d.a)(a)),a.dragSelected=a.dragSelected.bind(Object(d.a)(a)),a.dropSelected=a.dropSelected.bind(Object(d.a)(a)),a.updateValueStyle=a.updateValueStyle.bind(Object(d.a)(a)),a.state={top:0,left:0,keyBoardSelected:!1,transitionInProgress:!1,disabledDrops:[],disabledDrags:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"resetDranAndDrop",value:function(){this.dragIndex=-1,this.dropIndex=-1,this.dragToDisable=-1,this.setState({top:0,left:0,transitionInProgress:!1,disabledDrops:[],disabledDrags:[]})}},{key:"fillDragAndDrop",value:function(){this.dragIndex=-1,this.dropIndex=-1,this.dragToDisable=-1;for(var e=[],t=0;t<this.props.items.length;t++)e.push(t);this.setState({top:0,left:0,transitionInProgress:!1,disabledDrops:e,disabledDrags:e})}},{key:"createMatch",value:function(e,t){var a=this.state.disabledDrops;a.indexOf(t)<0&&a.push(t),this.dragToDisable=e,this.setState({disabledDrops:a})}},{key:"updateValueStyle",value:function(){var e=this.refs,t=e.dragContainer,a=e.value,n=a.innerText;if(t){var i=a.style;if(n){var o=parseFloat(getComputedStyle(t).height),r=parseFloat(getComputedStyle(t).width);i.removeProperty("font-size");var s=parseFloat(getComputedStyle(t).fontSize);for(i.paddingTop=0,i.paddingBottom=0;a.scrollHeight>o&&s>0;)i.fontSize="".concat(s,"px"),s-=.5;this.fontSize=s,this.top=(o-a.scrollHeight)/2,this.left=(r-a.scrollWidth)/2}else i.removeProperty("padding-top"),i.removeProperty("padding-bottom"),i.removeProperty("height"),i.removeProperty("font-size")}}},{key:"componentDidMount",value:function(){var e=this.props.parentSelector;this.parentNode=document.querySelector(e),this.forceUpdate()}},{key:"updatePosition",value:function(e,t){var a=this.colsestRelativeParentPos,n=this.parentNode.getBoundingClientRect(),i=a.y-n.y,o=a.x-n.x;i&&o||(i=a.top-n.top,o=a.left-n.left);var r=t-n.top-this.cursorIndent.top-i,s=e-n.left-this.cursorIndent.left-o;n.width-s-o>n.width?s=-o:n.width-s-o<this.dragWidth&&(s=n.width-this.dragWidth-o),n.height-r-i>n.height?r=-i:n.height-r-i<this.dragHeight&&(r=n.height-this.dragHeight-i),this.setState({top:r,left:s})}},{key:"scrollContainer",value:function(){var e=this.state.top,t=this.scrollContainerRef.getBoundingClientRect();e+this.dragHeight>=t.height&&this.dropPortal.scrollHeight-e>this.scrollContainerRef.scrollTop+this.dragHeight?this.scrollContainerRef.scrollTop=this.scrollContainerRef.scrollTop+5:e<=0&&this.scrollContainerRef.scrollTop>0?this.scrollContainerRef.scrollTop=this.scrollContainerRef.scrollTop-5:(clearInterval(this.scrollIntervalID),this.scrollIntervalID=null)}},{key:"componentWillUpdate",value:function(){var e=this;this.dragIndex>-1&&!this.scrollIntervalID&&this.scrollContainerRef&&(this.scrollIntervalID=setInterval((function(){e.scrollContainer()}),10))}},{key:"mouseMoveHandler",value:function(e){var t=this.state,a=t.transitionInProgress;t.keyBoardSelected||this.dragIndex>-1&&!a&&(this.dropIndex=this.findDrop(e),this.dragMoved=!0,this.updatePosition(e.clientX,e.clientY))}},{key:"mouseDownHandler",value:function(e,t){var a=this.state.keyBoardSelected,n=this.props.resetOnMouseClick;if(a){if(!n)return;this.moveToInitialPosition()}if(-1===this.dragIndex){var i=this.props.dragClosestRelativeParent;this.colsestRelativeParentPos=i?i.getBoundingClientRect():this.parentNode?this.parentNode.getBoundingClientRect():null;var o=this.dragRefs[t].refs.containerRef.getBoundingClientRect();this.dragIndex=t,this.dragHeight=o.height,this.dragWidth=o.width,this.initPosition=e.currentTarget.getBoundingClientRect(),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler),this.cursorIndent={top:e.clientY-this.initPosition.top,left:e.clientX-this.initPosition.left},this.props.dragSelected&&this.props.dragSelected(this.dragIndex),this.updatePosition(e.clientX,e.clientY),this.initialScrollTop=this.dropPortal.scrollTop}}},{key:"mouseUpHandler",value:function(){if(!this.state.keyBoardSelected&&-1!==this.dragIndex){var e=this.props.handleDrop;e&&e(this.dragIndex,this.dropIndex,this.dragMoved),this.dragMoved=!1,document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler)}}},{key:"dragSelected",value:function(e){-1===this.dragIndex&&(this.dragIndex=e,this.setState({keyBoardSelected:!0})),this.props.dragSelected&&this.props.dragSelected(this.dragIndex)}},{key:"dropSelected",value:function(e){if(-1!==this.dragIndex){var t=this.props.handleDrop;t&&t(this.dragIndex,e,this.dragMoved||this.state.keyBoardSelected),clearInterval(this.scrollIntervalID),this.scrollIntervalID=null}}},{key:"findDrop",value:function(e){for(var t=-1,a=0;a<this.dropRefs.length;a++)if(this.dropRefs[a]){if(!this.dropRefs[a].containerRef.current)return null;var n=this.dropRefs[a].containerRef.current.getBoundingClientRect();if(e.clientY>n.top&&e.clientY<n.top+n.height&&e.clientX>n.left&&e.clientX<n.left+n.width){t=a;break}}return t}},{key:"moveToInitialPosition",value:function(){var e=this,t=this.state,a=t.keyBoardSelected,n=t.disabledDrags,i=this.colsestRelativeParentPos;if(-1!==this.dragIndex)if(a)this.dragIndex=-1,this.dropIndex=-1,this.dragToDisable=-1,this.setState({disabledDrags:n,transitionInProgress:!1,keyBoardSelected:!1});else{var o=this.parentNode.getBoundingClientRect(),r=i.y-o.y,s=i.x-o.x;r&&s||(r=i.top-o.top,s=i.left-o.left);var c=this.initPosition.top-o.top-r-(this.dropPortal.scrollTop-this.initialScrollTop),l=this.initPosition.left-o.left-s;this.state.top===c&&this.state.left===l||0===this.state.top&&0===this.state.left?(this.dragIndex=-1,this.dropIndex=-1,this.dragToDisable=-1,this.setState({disabledDrags:n,transitionInProgress:!1})):requestAnimationFrame((function(){e.setState({top:c,left:l,transitionInProgress:!0})}))}}},{key:"moveToDropPosition",value:function(){var e=this,t=this.state,a=t.keyBoardSelected,n=t.disabledDrags,i=this.colsestRelativeParentPos;if(a)n.indexOf(this.dragIndex)<0&&n.push(this.dragIndex),this.dragIndex=-1,this.dropIndex=-1,this.dragToDisable=-1,this.setState({disabledDrags:n,transitionInProgress:!1,keyBoardSelected:!1});else{var o=this.parentNode.getBoundingClientRect(),r=i.y-o.y,s=i.x-o.x;r&&s||(r=i.top-o.top,s=i.left-o.left);var c=this.dropRefs[this.dropIndex].containerRef.current.getBoundingClientRect(),l=c.top-o.top+c.height/2-this.dragHeight/2-r,d=c.left-o.left+c.width/2-this.dragWidth/2-s;requestAnimationFrame((function(){e.setState({top:l,left:d,transitionInProgress:!0})}))}}},{key:"transitionEndHandler",value:function(){var e=this.state,t=e.transitionInProgress,a=e.disabledDrags,n=this.props.onTransitionEnd;t&&(a.indexOf(this.dragToDisable)<0&&a.push(this.dragToDisable),n&&n(),this.dragIndex=-1,this.dropIndex=-1,this.dragToDisable=-1,this.setState({disabledDrags:a,transitionInProgress:!1}))}},{key:"render",value:function(){var e=this.props,t=e.dragContainerSelector,a=e.dropContainerSelector,n=e.scrollContainerSelector,i=document.querySelector("".concat(t)),o=document.querySelector("".concat(a));return this.dragPortal=i,this.dropPortal=o,this.scrollContainerRef=document.querySelector("".concat(n)),m.a.createElement(m.a.Fragment,null,i&&v.a.createPortal(this.drags,i),o&&v.a.createPortal(this.drops,o))}},{key:"drags",get:function(){var e=this,t=this.dragIndex,a=this.props,n=a.items,i=a.dragLabels,o=a.dragClass,r=a.activityId,s=a.placeholderClassName,c=this.state,l=c.top,d=c.left,u=c.transitionInProgress,h=c.disabledDrags,p=c.keyBoardSelected;return this.dragRefs=[],n.map((function(a,n){return m.a.createElement(C,{activityId:r,ariaLabel:i[n],dragSelected:e.dragSelected,focusable:-1===e.dragIndex,mouseDown:e.mouseDownHandler,transitionEnd:e.transitionEndHandler,transitionInProgress:u,index:n,top:l,left:d,grabbed:n===t,detached:n===t&&!p,key:"dragContainer"+n,disabled:h.indexOf(n)>-1,placeholderClassName:s,dragClass:o,ref:function(t){t&&e.dragRefs.indexOf(t)<0&&e.dragRefs.push(t)}},a)}))}},{key:"drops",get:function(){var e=this,t=this.dropIndex,a=this.props,n=a.targets,i=a.dropLabels,o=a.onDropKeyDown,r=a.noHighlightDrops,s=a.dropClass,c=a.activeDropClass,l=a.activityId,d=this.state.disabledDrops,u=-1!==this.dragIndex;return this.dropRefs=[],n.map((function(a,n){return m.a.createElement(x,{dropClass:s?"string"!==typeof s?s[n]:s:null,onDropKeyDown:o,ariaLabel:i[n],dropSelected:e.dropSelected,activityId:l,autoFocus:u&&0===n,focusable:u&&-1===d.indexOf(n)||d.indexOf(n)>-1&&!u,ref:function(t){t&&e.dropRefs.indexOf(t)<0&&e.dropRefs.push(t)},active:t===n&&!r,key:"dropContainer"+n,index:n,disabled:d.indexOf(n)>-1&&!r,activeDropClass:c},a)}))}}]),t}(f.Component),Object(p.a)(o.prototype,"scrollContainer",[w.a],Object.getOwnPropertyDescriptor(o.prototype,"scrollContainer"),o.prototype),o)},506:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Activity_container__Q8p83",player:"Activity_player__gW8Mw",response:"Activity_response__1PwF2"}},507:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",matchingButton:"MatchView_matchingButton__sW76d",wrongSlider:"MatchView_wrongSlider__1jYTW",rightSlider:"MatchView_rightSlider__O96Oi",matchContainer:"MatchView_matchContainer__3v4Ml"}},508:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",zoomPanel:"CardContent_zoomPanel__1gHZM",imgHeight:"CardContent_imgHeight__9-SZg",imgWidth:"CardContent_imgWidth__1B83B",active:"CardContent_active__3hgAc",centeredParagraph:"CardContent_centeredParagraph__1Njg3",zoomIn:"CardContent_zoomIn__2F8fG",widthChecker:"CardContent_widthChecker__2S2Dx",zoomInMobile:"CardContent_zoomInMobile__RNdIY",zoomPanelMobile:"CardContent_zoomPanelMobile__13RA0"}},509:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",navButton:"Slider_navButton__3DDUz",buttonPrev:"Slider_buttonPrev__3RYp1",buttonNext:"Slider_buttonNext__htk2F",slider:"Slider_slider__9HE5A",contentContainer:"Slider_contentContainer__1Xqt6",textContainer:"Slider_textContainer__jidvq"}},510:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",mobile:"MobileView_mobile__3n67F",onetwotargets:"MobileView_onetwotargets__qCdb2",threefourtargets:"MobileView_threefourtargets__3dMn5",fivesixtargets:"MobileView_fivesixtargets__3iqX1",sevenninetargets:"MobileView_sevenninetargets__1MDuW"}},511:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",desktop:"DesktopView_desktop__1zm9d",items:"DesktopView_items__3w0rl",targets:"DesktopView_targets__2sHra",onetwotargets:"DesktopView_onetwotargets__12GrS",threefourtargets:"DesktopView_threefourtargets__2UXNd",fivesixtargets:"DesktopView_fivesixtargets__1juKM",sevenninetargets:"DesktopView_sevenninetargets__1lRHR",zommedImage:"DesktopView_zommedImage__16dXG",bigText:"DesktopView_bigText__d8DRY"}},512:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",cardWrapper:"MatchingCard_cardWrapper__2M5Q8",background:"MatchingCard_background__1WCwC",selectedCard:"MatchingCard_selectedCard__1_FKX"}},513:function(e,t,a){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Controls_container__38Vdr",navigation:"Controls_navigation__u9icO",score:"Controls_score__1w3hy",buttons:"Controls_buttons__3gXqI"}}}]);
//# sourceMappingURL=matching-index.js.map