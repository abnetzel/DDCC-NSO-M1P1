/*! For license information please see 9.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{302:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(7),o=function(t){var e=function(t){var e=a.c.join(",");return Array.from(t.querySelectorAll(e)).filter((function(t){return t.getBBox?t.getBBox().width||t.getBBox().height:!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}))}(t.currentTarget);if(e.length){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||n!==e.length-1||(e[0].focus(),t.preventDefault())}}},313:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset,bottom:e.bottom+window.pageYOffset,right:e.right+window.pageXOffset,width:e.width,height:e.height}}},396:function(t,e,n){"use strict";var a,o=n(31),r=n(32),i=n(254),c=n(252),s=n(256),l=n(253),d=n(255),p=n(407),u=n.n(p),f=n(251),h=n.n(f),b=n(257),m=n.n(b),g=n(261),O=n(66),v=n(265),j=n(471),y=n.n(j),D=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this;return h.a.createElement("ul",{style:{top:"".concat(this.props.offsetY,"px"),left:"".concat(this.props.offsetX,"px")},className:y.a.container},this.props.items.map((function(e,n){return h.a.createElement("li",{key:n,className:y.a.item,onTouchEnd:function(){return t.props.onItemClick(e.id,n)}},e.value)})))}}]),e}(f.PureComponent),I=n(341),x=n(7);n.d(e,"b",(function(){return u.a}));var S=Object(g.a)("DropZone")(a=function(t){function e(){var t,n;Object(o.a)(this,e);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=Object(i.a)(this,(t=Object(c.a)(e)).call.apply(t,[this].concat(r))),Object(d.a)(Object(s.a)(n),"dropZoneElement",void 0),Object(d.a)(Object(s.a)(n),"state",{displayDropdown:!1}),Object(d.a)(Object(s.a)(n),"hideDropdown",(function(t){n.state.displayDropdown&&n.dropZoneElement&&!n.dropZoneElement.contains(t.target)&&n.setState({displayDropdown:!1})})),Object(d.a)(Object(s.a)(n),"onDropZoneBlur",(function(t){n.dropZoneElement&&!n.dropZoneElement.contains(t.relatedTarget)&&(n.state.displayDropdown&&n.setState({displayDropdown:!1}))})),Object(d.a)(Object(s.a)(n),"onClick",(function(){var t=n.props,e=t.correct,a=t.complete;!O.d||e||a||n.setState({displayDropdown:!n.state.displayDropdown})})),Object(d.a)(Object(s.a)(n),"onKeyDown",(function(t){var e=n.props;(0,e.onKeyDown)({index:e.index,keyCode:t.keyCode})})),Object(d.a)(Object(s.a)(n),"onItemSelect",(function(t,e){var a,o=n.props,r=o.id,i=o.index,c=o.onCorrectSelect,s=o.onIncorrectSelect;a=Object(O.e)()||Object(O.h)()?r:e,r===t?c(a,i):s(a)})),n}return Object(l.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){O.d&&this.dropZoneElement.addEventListener("focusout",this.onDropZoneBlur)}},{key:"componentDidUpdate",value:function(){O.h&&this.refs.value&&!this.fontSize&&this.updateValueStyle()}},{key:"updateValueStyle",value:function(){var t=this.refs.value,e=this.dropZoneElement,n=t.innerText;if(e){var a=t.style;if(n){var o=parseFloat(getComputedStyle(e).height),r=parseFloat(getComputedStyle(e).width);a.removeProperty("font-size");var i=parseFloat(getComputedStyle(e).fontSize);for(a.paddingTop=0,a.paddingBottom=0;t.scrollHeight>o&&i>0;)a.fontSize="".concat(i,"px"),i--;this.fontSize=i,t.style.top="".concat((o-t.scrollHeight)/2,"px"),t.style.left="".concat((r-t.scrollWidth)/2,"px")}else a.removeProperty("padding-top"),a.removeProperty("padding-bottom"),a.removeProperty("height"),a.removeProperty("font-size")}}},{key:"componentWillUnmount",value:function(){O.d&&this.dropZoneElement.removeEventListener("focusout",this.onDropZoneBlur)}},{key:"render",value:function(){var t=this.props,e=t.correct,n=t.index,a=t.labelingID,o=t.value,r=t.showAnswers;return O.d&&e&&r?h.a.createElement(I.a,{portal:document.getElementById(x.f),text:o,className:"drop-tooltip",id:"labeling"+a+"drop"+n},this.dropZone):this.dropZone}},{key:"dropZone",get:function(){var t=this,e=this.props,n=e.notFocusable,a=e.complete,o=e.value,r=e.active,i=e.correct,c=e.top,s=e.left,l=e.altText,d=e.size,p=e.items,f=e.index,b=this.state.displayDropdown,g=n&&!i||a?0:-1,j=this.locale.description,y=i?"".concat(o," ").concat(l):l;return h.a.createElement("div",{ref:function(e){t.dropZoneElement=e},tabIndex:g,role:"landmark","aria-label":y,"aria-describedby":"".concat(u.a.container).concat(f,"__description"),"aria-dropeffect":"move",className:m()(u.a.container,(i||a)&&u.a.correct,r&&u.a.active,Object(O.e)()&&u.a.smallDrop,(i||a)&&Object(O.e)()&&u.a.mcorrect),onKeyDown:this.onKeyDown,onTouchEnd:this.onClick,style:{top:c,left:s}},h.a.createElement("span",{id:"".concat(u.a.container).concat(f,"__description"),className:v.a.VISUALLY_HIDDEN},j),Object(O.h)()&&h.a.createElement("p",{ref:"value"},i&&o),b&&h.a.createElement(D,{items:p,offsetX:0,offsetY:d.height+5,onItemClick:this.onItemSelect}))}}]),e}(f.PureComponent))||a;e.a=S},406:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(260),o=n(31),r=n(254),i=n(256),c=n(252),s=n(615),l=n(32),d=n(253),p=n(255),u=n(258),f=n(68),h=n(313),b=function(t){return function(t){function e(){var t,n;Object(o.a)(this,e);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return n=Object(r.a)(this,(t=Object(c.a)(e)).call.apply(t,[this].concat(l))),Object(p.a)(Object(i.a)(n),"state",Object(a.a)({},n.state,{complete:!1,currentItemId:null,currentItemIndex:null,correctZoneIndexes:[],transitionItemIndexes:[],activeZoneIndex:null,notFocusable:!1,ariaText:""})),Object(p.a)(Object(i.a)(n),"_dragItems",[]),Object(p.a)(Object(i.a)(n),"dropZones",[]),Object(p.a)(Object(i.a)(n),"zoneOffsets",[]),Object(p.a)(Object(i.a)(n),"handleStart",(function(t){if(0===n.state.transitionItemIndexes.length){var e=t.index,a=n.props.items[e].id;t.item.setDetached(!0),n.setState({currentItemIndex:e,currentItemId:a})}})),Object(p.a)(Object(i.a)(n),"handleDrag",(function(t){var e=!1,a=t.inPlayerPos;n.zoneOffsets.forEach((function(t,o){a.x>t.left&&a.x<t.right&&a.y>t.top&&a.y<t.bottom&&(e=!0,o!==n.state.activeZoneIndex&&n.setState({activeZoneIndex:o}))})),e||null===n.state.activeZoneIndex||n.setState({activeZoneIndex:null})})),Object(p.a)(Object(i.a)(n),"handleKeyboardDrop",(function(t){t.preventDefault();var e,a=n.props.zones,o=n.state.currentItemId,r=n.state.currentItemIndex,i=Object(h.a)(t.target),c=!1;n.dropZones.forEach((function(t,n){(i.right>t.left+t.width/2&&i.right<t.right||i.left<t.left+t.width/2&&i.left>t.left)&&(i.bottom>t.top+t.height/2&&i.bottom<t.bottom||i.top<t.top+t.height/2&&i.top>t.top)&&o===a[n].id&&(c=!0,e=n)})),c?(n.dragItems[r].setPosition(n.dropZones[e].left-i.left,n.dropZones[e].top-i.top),n.handleCorrectDrop(r,e),n.setState({currentItemIndex:null,currentItemId:null,activeZoneIndex:null}),t.target.blur()):(n.handleIncorrectDrop(r),n.setState({activeZoneIndex:null}))})),Object(p.a)(Object(i.a)(n),"handleHotspotDrop",(function(t){var e=n.props,a=e.zones,o=e.items,r=e.score,i=e.activityId,c=e.activityType,s=a[t].id,l=n.state.currentItemIndex,d=o[l].id,p=n.dragItems[l];if(s===d){var u=n.state.correctZoneIndexes.concat(t),h=o.filter((function(t,e){return n.dragItems[e].correct&&!n.dragItems[e].mistakes})).length+(n.dragItems[l].mistakes?0:1),b=parseFloat((r*(h/o.length)).toFixed(1)),m=n.state.complete;p.setDetached(!0),p.setPosition(n.zoneOffsets[t].left,n.zoneOffsets[t].top),p.setCorrect(!0),u.length===a.length&&(Object(f.b)({id:i,type:c,pointsEarned:b,maxValue:r,isRestart:!1}),m=!0),n.setState({correctZoneIndexes:u,currentItemIndex:null,activeZoneIndex:null,notFocusable:!1,displayedScore:b,ariaText:n.locale.correct,complete:m},(function(){var t=document.querySelector(n.remainingItemSelector);!m&&t&&t.focus()}))}else p.setCorrect(!1),n.setState({ariaText:n.locale.incorrect})})),Object(p.a)(Object(i.a)(n),"onDropZoneKeyDown",(function(t){switch(t.keyCode){case u.a.ENTER:n.handleHotspotDrop(t.index);break;case u.a.TAB:n.state.ariaText&&n.setState({ariaText:""})}})),Object(p.a)(Object(i.a)(n),"onTransitionEnd",(function(t){t.item.correct||t.item.setDetached(!1),n.setState({transitionItemIndexes:n.state.transitionItemIndexes.filter((function(e){return e!==t.index}))})})),Object(p.a)(Object(i.a)(n),"onButtonFocus",(function(){n.setState({currentItemIndex:null,currentItemId:null})})),Object(p.a)(Object(i.a)(n),"onDragItemKeyDown",(function(t){var e=n.state,a=e.currentItemIndex,o=e.transitionItemIndexes,r=e.notFocusable,i=n.dragItems[a];null===a||0!==o.length||i.disabled||(t.keyCode===u.a.ENTER&&(i.position.x||i.position.y)&&n.handleKeyboardDrop(t),t.keyCode===u.a.SPACEBAR&&(r||(t.preventDefault(),document.querySelector(n.activeDropZoneSelector).focus(),n.setState({notFocusable:!0,ariaText:n.locale.select}))))})),Object(p.a)(Object(i.a)(n),"onDragItemFocus",(function(t){var e=n.props.items[t.index].id;n.setState({currentItemIndex:t.index,currentItemId:e})})),n.onActivityKeyDown=n.onActivityKeyDown.bind(Object(i.a)(n)),n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"dragItems",get:function(){return this._dragItems=this._dragItems.filter((function(t){return!!t})),this._dragItems}}]),Object(l.a)(e,[{key:"onActivityKeyDown",value:function(t){switch(Object(s.a)(Object(c.a)(e.prototype),"onActivityKeyDown",this)&&Object(s.a)(Object(c.a)(e.prototype),"onActivityKeyDown",this).call(this,t),t.keyCode){case u.a.ESC:this.state.notFocusable&&(t.preventDefault(),this.setState({notFocusable:!1}))}}}]),e}(t)}},407:function(t,e,n){t.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"DropZone_container__2b4N0",active:"DropZone_active__2c7tI",correct:"DropZone_correct__wQONa",mcorrect:"DropZone_mcorrect__36a8A",smallDrop:"DropZone_smallDrop__49_Z-"}},408:function(t,e,n){"use strict";var a=n(31),o=n(32),r=n(254),i=n(252),c=n(256),s=n(253),l=n(255),d=n(409),p=n.n(d);n.d(e,"b",(function(){return p.a}));var u,f,h,b=n(251),m=n.n(b),g=n(268),O=n.n(g),v=n(257),j=n.n(v),y=n(261),D=n(313),I=n(48),x=n(265),S=Object(y.a)("DragItem")((h=f=function(t){function e(){var t,n;Object(a.a)(this,e);for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];return n=Object(r.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(s))),Object(l.a)(Object(c.a)(n),"dragObject",{}),Object(l.a)(Object(c.a)(n),"isDragging",!1),Object(l.a)(Object(c.a)(n),"fontSize",16),Object(l.a)(Object(c.a)(n),"state",{correct:!1,disabled:!1,mistakes:0,detached:!1,left:0,top:0}),Object(l.a)(Object(c.a)(n),"onMouseDown",(function(t){if(1===t.nativeEvent.which&&!n.disabled){var e=Object(D.a)(t.target),a=Object(D.a)(n.parent);n.dragObject={active:!0,top:e.top,left:e.left,width:e.width,height:e.height,parentTop:a.top,parentLeft:a.left,parentWidth:a.width,parentHeight:a.height,clickX:Object(I.b)(t).x,clickY:Object(I.b)(t).y}}})),Object(l.a)(Object(c.a)(n),"onMouseMove",(function(t){t.preventDefault(),requestAnimationFrame((function(){if(n.dragObject.active){var a=n.props,o=a.onStart,r=a.onDrag,i=a.index,s=Object(I.b)(t);if(!n.isDragging){var l=s.x-n.dragObject.clickX,d=s.y-n.dragObject.clickY;if(Math.abs(l)<e.minShift&&Math.abs(d)<e.minShift)return;var p=Object(D.a)(t.target);n.dragObject.shiftX=n.dragObject.clickX-p.left,n.dragObject.shiftY=n.dragObject.clickY-p.top,n.isDragging=!0,o({index:i,bounds:p,item:Object(c.a)(n)})}var u=s.x-n.dragObject.shiftX-n.dragObject.parentLeft,f=s.y-n.dragObject.shiftY-n.dragObject.parentTop;u=u<0?0:u+n.dragObject.width>n.dragObject.parentWidth?n.dragObject.parentWidth-n.dragObject.width:u,f=f<0?0:f+n.dragObject.height>n.dragObject.parentHeight?n.dragObject.parentHeight-n.dragObject.height:f,r({inPlayerPos:{x:s.x-n.dragObject.parentLeft,y:s.y-n.dragObject.parentTop}}),n.setPosition(u,f)}}))})),Object(l.a)(Object(c.a)(n),"onMouseUp",(function(t){if(n.dragObject.active&&(t.preventDefault(),n.dragObject.active=!1,n.isDragging)){n.isDragging=!1;var e=Object(I.b)(t);n.props.onStop({inPlayerPos:{x:e.x-n.dragObject.parentLeft,y:e.y-n.dragObject.parentTop},initialPos:{left:n.dragObject.left-n.dragObject.parentLeft,top:n.dragObject.top-n.dragObject.parentTop}})}})),Object(l.a)(Object(c.a)(n),"onKeyDown",(function(t){n.props.onKeyDown(t)})),Object(l.a)(Object(c.a)(n),"onFocus",(function(){n.props.onFocus({index:n.props.index})})),Object(l.a)(Object(c.a)(n),"onTransitionEnd",(function(){n.props.onTransitionEnd({index:n.props.index,item:Object(c.a)(n)})})),n}return Object(s.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.parent=document.querySelector(this.props.parentSelector),this.updateValueStyle()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.parent=null}},{key:"onDragStart",value:function(t){return t.preventDefault(),!1}},{key:"setDetached",value:function(t){this.setState({detached:t})}},{key:"setPosition",value:function(t,e){this.setState({left:t,top:e})}},{key:"setCorrect",value:function(t,e){this.setState({correct:t,disabled:!!t||this.state.disabled,mistakes:t&&e||!t?this.state.mistakes+1:this.state.mistakes})}},{key:"updateValueStyle",value:function(){var t=this.refs,e=t.dragContainer,n=t.value,a=n.innerText;if(e){var o=n.style;if(a){var r=parseFloat(getComputedStyle(e).height),i=parseFloat(getComputedStyle(e).width);o.removeProperty("font-size");var c=parseFloat(getComputedStyle(e).fontSize);for(o.paddingTop=0,o.paddingBottom=0;n.scrollHeight>r&&c>0;)o.fontSize="".concat(c,"px"),c-=.5;this.fontSize=c,this.top=(r-n.scrollHeight)/2,this.left=(i-n.scrollWidth)/2}else o.removeProperty("padding-top"),o.removeProperty("padding-bottom"),o.removeProperty("height"),o.removeProperty("font-size")}}},{key:"render",value:function(){var t=this.props,e=t.notFocusable,n=t.active,a=t.transition,o=t.value,r=t.index,i=this.state.correct,c=this.disabled,s=e||c?-1:0,l=this.locale,d=l.label,u=l.description;return this.state.detached?m.a.createElement(m.a.Fragment,null,!i&&m.a.createElement("div",{className:p.a.placeholder}),O.a.createPortal(m.a.createElement("div",{ref:"dragContainer",style:{left:this.state.left,top:this.state.top},tabIndex:s,role:"listitem","aria-grabbed":!0,"aria-label":"".concat(d," ").concat(o),"aria-describedby":"".concat(p.a.container).concat(r,"__description"),className:j()(p.a.container,p.a.dragging,c&&p.a.disabled,n&&p.a.active,a&&p.a.transition),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onMouseDown:this.onMouseDown,onDragStart:this.onDragStart,onTransitionEnd:this.onTransitionEnd},m.a.createElement("span",{id:"".concat(p.a.container).concat(r,"__description"),className:x.a.VISUALLY_HIDDEN},u),m.a.createElement("p",{style:{top:this.top,left:this.left,fontSize:this.fontSize+"px"},ref:"value"},o)),this.parent)):m.a.createElement("div",{ref:"dragContainer",tabIndex:s,role:"listitem","aria-grabbed":!1,"aria-label":"".concat(d," ").concat(o),"aria-describedby":"".concat(p.a.container).concat(r,"__description"),className:j()(p.a.container,c&&p.a.disabled,n&&p.a.active,a&&p.a.transition),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onMouseDown:this.onMouseDown,onDragStart:this.onDragStart,onTransitionEnd:this.onTransitionEnd},m.a.createElement("span",{id:"".concat(p.a.container).concat(r,"__description"),className:x.a.VISUALLY_HIDDEN},u),m.a.createElement("p",{style:{top:this.top,left:this.left,fontSize:this.fontSize+"px"},ref:"value"},o))}},{key:"position",get:function(){return{x:this.state.left,y:this.state.top}}},{key:"disabled",get:function(){return this.state.disabled||this.props.disabled()}},{key:"correct",get:function(){return this.state.correct}},{key:"mistakes",get:function(){return this.state.mistakes}}]),e}(b.PureComponent),Object(l.a)(f,"minShift",5),u=h))||u;e.a=S},409:function(t,e,n){t.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",placeholder:"DragItem_placeholder__28ZO1",container:"DragItem_container__hKfJi",dragging:"DragItem_dragging__1g5hB",active:"DragItem_active__3TnKb",disabled:"DragItem_disabled__PRURO",transition:"DragItem_transition__jOh-s"}},471:function(t,e,n){t.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"DropDown_container__3Y7N0",item:"DropDown_item__26HfG"}}}]);
//# sourceMappingURL=9.js.map