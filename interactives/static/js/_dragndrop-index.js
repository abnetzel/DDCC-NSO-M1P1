/*! For license information please see _dragndrop-index.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{249:function(e,t,n){"use strict";n.r(t);var a,o,i,r,c,s=n(251),l=n.n(s),d=n(268),u=n.n(d),p=n(259),m=n(255),b=n(319),y=n(260),f=n(309),h=n.n(f),O="SET_POSITION",v="RESET_POSITION",j="DISABLE_ITEM",I="RESTART",x="SET_CORRECT",E="SET_DETACHED",g=(a={},Object(m.a)(a,O,(function(e,t){var n=h()(e),a=+t.index;return n.items[a].position.x+=t.shift.x,n.items[a].position.y+=t.shift.y,n})),Object(m.a)(a,v,(function(e,t){var n=h()(e),a=+t.index;return n.items[a].position={x:0,y:0},n})),Object(m.a)(a,j,(function(e,t){var n=h()(e),a=+t.index;return n.items[a].disabled=!0,n})),Object(m.a)(a,I,(function(e){return Object(y.a)({},e,{items:h()(e.initialItems)})})),Object(m.a)(a,E,(function(e,t){var n=Object(b.a)(e.items);return n[t.index]=Object(y.a)({},n[t.index],{detached:t.val}),Object(y.a)({},e,{items:n})})),Object(m.a)(a,x,(function(e,t){var n=Object(b.a)(e.items),a=t.index,o=t.correct;return n[a]=Object(y.a)({},n[a],{correct:o,disabled:!!o||n[a].disabled,mistakes:o?n[a].mistakes:n[a].mistakes+1}),Object(y.a)({},e,{items:n})})),a),S=n(31),_=n(32),D=n(254),Z=n(252),C=n(253),w=n(275),k={setPosition:function(e,t){return{type:O,index:e,shift:t}},resetPosition:function(e){return{type:v,index:e}},disableItem:function(e){return{type:j,index:e}},restart:function(){return{type:I}},setCorrect:function(e,t){return{type:x,index:e,correct:t}},setDetached:function(e,t){return{type:E,index:e,val:t}}},A=function(e){return Object(w.b)(k,e)},T=n(279),N=n(256),P=n(461),F=n.n(P),z=n(257),K=n.n(z),R=n(405),B=n.n(R),M=n(261),W=n(406),L=n(396),q=n(313),H=n(302),J=n(258),G=n(265),Q=n(264),U=n(263),V=n(408),Y=n(472),X=n.n(Y),$=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(Z.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.item,a=e.correctZone,o=e.activeZone,i=e.index,r=e.notFocusable,c=e.onDropZoneKeyDown,s=e.zoneOffsets,d=e.complete,u=e.itemSize,p=e.handleCorrectDrop,m=e.handleIncorrectDrop;return l.a.createElement("div",{className:X.a.container},l.a.createElement("div",{className:X.a.term},n.value),l.a.createElement("div",{className:X.a["line-container"]},l.a.createElement("div",{className:X.a.line}),l.a.createElement("div",{className:K()(X.a["line-background"],a&&X.a["line-background-active"])})),l.a.createElement(L.a,Object.assign({notFocusable:r,value:n.value,index:i,active:o,correct:a,onKeyDown:c,items:t,id:n.id,complete:d,size:u,onCorrectSelect:p,onIncorrectSelect:m},s,n)))}}]),t}(s.PureComponent),ee=Object(p.b)((function(e){return Object(y.a)({},e,{activityId:e.id,activityType:e.type})}),A)(o=Object(M.a)("Activity")(o=Object(W.a)(o=function(e){function t(){var e,n;Object(S.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=Object(D.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(o))),Object(m.a)(Object(N.a)(n),"dragContainer",void 0),Object(m.a)(Object(N.a)(n),"shift",void 0),Object(m.a)(Object(N.a)(n),"activeDropZoneSelector",".".concat(F.a.container," .").concat(L.b.container,":not(.").concat(L.b.correct,")")),Object(m.a)(Object(N.a)(n),"state",{animationClass:"",itemSize:{width:100,height:60}}),Object(m.a)(Object(N.a)(n),"handleStop",(function(e){var t,a=n.props.zones,o=n.state.currentItemId,i=n.state.currentItemIndex,r=e.inPlayerPos,c=e.initialPos,s=!1;n.dropZones.forEach((function(e,n){r.x>e.left&&r.x<e.right&&r.y>e.top&&r.y<e.bottom&&o===a[n].id&&(s=!0,t=n)})),s?(n.props.setPosition(i,{left:n.dropZones[t].left-n.dragItems[i].left,top:n.dropZones[t].top-n.dragItems[i].top}),n.handleCorrectDrop(i,t)):(n.props.setPosition(i,c),n.handleIncorrectDrop(i)),n.setState({currentItemIndex:null,currentItemId:null,activeZoneIndex:null,transitionItemIndexes:n.state.transitionItemIndexes.concat(i)}),n.zoneOffsets.forEach((function(e,n){r.x>e.left&&r.x<e.right&&r.y>e.top&&r.y<e.bottom&&o===a[n].id&&(s=!0,t=n)}))})),Object(m.a)(Object(N.a)(n),"handleCorrectDrop",(function(e,t){n.props.disableItem(e),n.setState({correctZoneIndexes:n.state.correctZoneIndexes.concat(t)})})),Object(m.a)(Object(N.a)(n),"handleIncorrectDrop",(function(e){n.setState({transitionItemIndexes:n.state.transitionItemIndexes.concat(e)}),n.props.resetPosition(e)})),Object(m.a)(Object(N.a)(n),"handleKeyboardShift",(function(e,t){e.preventDefault();var a=n.state.currentItemIndex,o=Object(q.a)(e.target),i=!1;n.props.setPosition(a,t),n.dropZones.forEach((function(e,t){(o.right>e.left+e.width/2&&o.right<e.right||o.left<e.left+e.width/2&&o.left>e.left)&&(o.bottom>e.top+e.height/2&&o.bottom<e.bottom||o.top<e.top+e.height/2&&o.top>e.top)&&(i=!0,n.setState({activeZoneIndex:t}))})),i||null===n.state.activeZoneIndex||n.setState({activeZoneIndex:null})})),Object(m.a)(Object(N.a)(n),"initDropZones",(function(){Array.from(document.querySelectorAll(".".concat(F.a.container," .").concat(L.b.container))).forEach((function(e,t){var a=Object(q.a)(e);n.dropZones[t]=Object.assign({},a)}))})),Object(m.a)(Object(N.a)(n),"restart",(function(){n.setState({correctZoneIndexes:[],ariaText:n.locale.restart}),n.props.restart()})),Object(m.a)(Object(N.a)(n),"onAnimationEnd",(function(){n.setState({animationClass:""})})),Object(m.a)(Object(N.a)(n),"onBodyKeyDown",(function(e){e.keyCode===J.a.TAB&&Object(H.a)(e)})),n}return Object(C.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("section",{role:"application",tabIndex:"0",className:F.a.container,onKeyDown:this.onActivityKeyDown},l.a.createElement("span",{className:G.a.VISUALLY_HIDDEN,"aria-live":"polite","aria-atomic":"true"},this.state.ariaText),l.a.createElement("div",{className:K()(F.a.player,this.state.animationClass),onAnimationEnd:this.onAnimationEnd,ref:function(t){return e.dragContainer=t}},l.a.createElement("div",{className:F.a.wrapper},l.a.createElement("div",{className:F.a.body,onKeyDown:this.onBodyKeyDown},this.props.zones.map((function(t,n){return l.a.createElement($,{correctZone:B()(e.state.correctZoneIndexes,n),activeZone:n===e.state.activeZoneIndex,key:n,index:n,item:t,notFocusable:e.state.notFocusable,onDropZoneKeyDown:e.onDropZoneKeyDown,items:e.props.items,complete:e.state.complete,onCorrectSelect:e.handleCorrectDrop,onIncorrectSelect:e.handleIncorrectDrop,zoneOffsets:e.dropZones[n],itemSize:e.state.itemSize})}))),this.dragItemsBlock),l.a.createElement(Q.b,{id:U.a.RESTART,notFocusable:this.state.notFocusable,className:Q.a.restart,onFocus:this.onButtonFocus,onClick:this.restart},"Re-start")))}},{key:"dragItemsBlock",get:function(){var e=this,t=this.state,n=t.currentItemIndex,a=t.transitionItemIndexes,o=t.notFocusable;return l.a.createElement("div",{className:F.a.items},this.props.items.map((function(t,i){var r=i===n,c=B()(a,i),s=t.disabled||0!==a.length&&!B()(a,i);return l.a.createElement(V.a,{key:i,index:i,notFocusable:o,active:r,transition:c,disabled:s,value:t.value,position:t.position,onStart:e.handleStart,onStop:e.handleStop,onDrag:e.handleDrag,onKeyDown:e.onDragItemKeyDown,onFocus:e.onDragItemFocus,onTransitionEnd:e.onTransitionEnd,correct:t.correct,detached:t.detached,parentSelector:".".concat(F.a.player),size:e.state.itemSize})})))}}]),t}(s.PureComponent))||o)||o)||o,te=Object(p.b)((function(e){return{displayMode:e.displayMode,displaySetting:e.displaySetting,displayIconImage:e.displayIconImage,activityName:e.name,activityType:e.type}}),A)((c=r=function(e){function t(){return Object(S.a)(this,t),Object(D.a)(this,Object(Z.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(_.a)(t,[{key:"activity",get:function(){return l.a.createElement(ee,{activityAlign:this.activityAlign})}}]),t}(T.a),Object(m.a)(r,"propTypes",T.a.propTypes),i=c))||i,ne=n(280),ae=n(277),oe=n(274),ie=n.n(oe);n.d(t,"bootstrap",(function(){return re}));var re=function(e,t,n){var a=ne.a.createStore(function(e){var t=[],n=[];e.items.forEach((function(e,a){t.push({id:a,value:e.term}),n.push({id:a,value:e.definition,disabled:!1,position:{x:0,y:0}})}));var a=ie()(n);return Object(y.a)({},e,{zones:n,terms:ie()(t),items:a,initialItems:h()(a)})}(t),g);u.a.render(l.a.createElement(p.a,{store:a},l.a.createElement(ae.a.Provider,{value:n.dnd},l.a.createElement(te,null))),e)}},461:function(e,t,n){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0",container:"Activity_container__3soPQ",player:"Activity_player__1n_DF",wrapper:"Activity_wrapper__1yy9-",body:"Activity_body__WysIq",items:"Activity_items__ykcMu"}},472:function(e,t,n){e.exports={cardContentWidth:"800px",primaryColor:"#000",secondaryColor:"#c0c0c0","line-container":"Zone_line-container__20FtE",line:"Zone_line__hWvjG","line-background":"Zone_line-background__1-xsg","line-background-active":"Zone_line-background-active__P64IO",term:"Zone_term__2d3pA"}}}]);
//# sourceMappingURL=_dragndrop-index.js.map